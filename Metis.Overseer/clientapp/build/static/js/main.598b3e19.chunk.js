(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{177:function(e,t,n){e.exports=n.p+"static/media/logo.767649f2.png"},204:function(e,t,n){e.exports=n(377)},212:function(e,t){},214:function(e,t){},251:function(e,t){},252:function(e,t){},31:function(e,t,n){"use strict";var a={prefix:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"http://192.168.101.57/api",REACT_APP_VERSION:"0.5.0"}).REACT_APP_STORAGE_PREFIX||"",get:function(e){var t=localStorage.getItem(a.prefix+e);return JSON.parse(t)},set:function(e,t){return localStorage.setItem(a.prefix+e,JSON.stringify(t))},remove:function(e){localStorage.removeItem(a.prefix+e)}};t.a=a},324:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(8),r=n.n(c),o=n(29),i=n(47),u=n(45),m=n(77),s=n(56),d=Object(a.createContext)(null),b=function(e){var t=e.children,n=Object(s.b)(),c=Object(a.useState)({view:window.innerWidth>800?"web":"mobile",auth:n.isAuthenticated}),r=Object(i.a)(c,2),o=r[0],u=r[1];return Object(a.useEffect)(function(){var e=function(){window.innerWidth<=800&&"mobile"!==o.view&&u(function(e){return Object(m.a)({},e,{view:"mobile"})}),window.innerWidth>800&&"web"!==o.view&&u(function(e){return Object(m.a)({},e,{view:"web"})})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[o]),Object(a.useEffect)(function(){u(function(e){return Object(m.a)({},e,{auth:n.isAuthenticated})})},[n.isAuthenticated]),l.a.createElement(d.Provider,{value:o},t)},f=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(7)]).then(n.bind(null,604))}),E=function(){return l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/login",component:f}),l.a.createElement(u.a,{to:"/login"}))))},h=(n(106),n(37)),p=(n(198),n(69)),v=(n(197),n(20)),g=(n(200),n(131)),w=n(177),O=n.n(w),x=(n(324),[{path:"/map",icon:"global",caption:"\u03a7\u03ac\u03c1\u03c4\u03b7\u03c2"},{path:"/logbooks",icon:"notification",caption:"\u03a3\u03c5\u03bc\u03b2\u03ac\u03bd\u03c4\u03b1"}]),y=function(){var e=Object(s.b)();return l.a.createElement(h.a.Sider,{collapsed:!0},l.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0px 60px 0px"}},l.a.createElement(g.a,{size:48,src:O.a,alt:"metis"}),l.a.createElement("span",{className:"sidebar-version"},"0.5.0")),l.a.createElement(p.b,{selectable:!1,mode:"vertical",className:"sidebar-menu"},x.map(function(e){return l.a.createElement(p.b.Item,{key:e.path,className:"sidebar-menu-item"},l.a.createElement(o.b,{to:e.path},l.a.createElement(v.a,{type:e.icon}),l.a.createElement("span",null,e.caption)))})),l.a.createElement("div",{style:{flexGrow:"1"}}),l.a.createElement(p.b,{selectable:!1,mode:"vertical",style:{backgroundColor:"unset"},className:"sidebar-menu"},l.a.createElement(p.b.Item,{key:"/logout",onClick:e.signOut,style:{justifySelf:"flex-end"},className:"sidebar-logout"},l.a.createElement("span",null,l.a.createElement(v.a,{type:"logout"}),l.a.createElement("span",null,"\u0391\u03c0\u03bf\u03c3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7"))))))},j=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(12)]).then(n.bind(null,606))}),k=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(6),n.e(8)]).then(n.bind(null,607))}),P=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(5)]).then(n.bind(null,605))}),S=function(){return l.a.createElement("div",{style:{height:"100vh",overflow:"hidden"}},l.a.createElement(h.a,null,l.a.createElement(y,null),l.a.createElement(h.a.Content,{style:{height:"100vh"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/map",component:j}),l.a.createElement(u.b,{exact:!0,path:"/logbooks",component:k}),l.a.createElement(u.b,{exact:!0,path:"/logbooks/:id",component:P}),l.a.createElement(u.a,{to:"/map"}))))))},A=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(4),n.e(13),n.e(14)]).then(n.bind(null,603))}),C=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(6),n.e(8)]).then(n.bind(null,607))}),I=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(2),n.e(5)]).then(n.bind(null,605))}),z=function(){return l.a.createElement("div",{style:{height:"100vh",overflow:"hidden"}},l.a.createElement(h.a,null,l.a.createElement(h.a.Content,{style:{height:"100vh"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/map",component:A}),l.a.createElement(u.b,{exact:!0,path:"/logbooks",component:C}),l.a.createElement(u.b,{exact:!0,path:"/logbooks/:id",component:I}),l.a.createElement(u.a,{to:"/map"}))))))},N=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(7)]).then(n.bind(null,604))}),_=function(){return l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/login",component:N}),l.a.createElement(u.a,{to:"/login"}))))},L=Object(u.f)(function(){var e=Object(a.useContext)(d),t=Object(a.useState)(l.a.createElement("div",null)),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)(function(){r(l.a.createElement(function(){return"web"===e.view?e.auth?l.a.createElement(S,null):l.a.createElement(E,null):e.auth?l.a.createElement(z,null):l.a.createElement(_,null)},null))},[e]),c});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(376);var R=l.a.createElement(o.a,null,l.a.createElement(s.a,null,l.a.createElement(b,null,l.a.createElement(L,null))));r.a.render(R,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,n){"use strict";n.d(t,"b",function(){return m});var a=n(47),l=n(0),c=n.n(l),r=n(119),o=n.n(r),i=n(31),u=c.a.createContext(null),m=function(){return Object(l.useContext)(u)};t.a=function(e){var t=i.a.get("token"),n=i.a.get("auth"),r=function(){return!n&&t&&(n=o.a.decode(t),i.a.set("auth",n)),n},m=Object(l.useState)((n=r())&&n.username&&!function(){var e=r();return e&&1e3*e.exp<(new Date).valueOf()}()),s=Object(a.a)(m,2),d=s[0],b=s[1];return c.a.createElement(u.Provider,{value:{isAuthenticated:d,signIn:function(e){var t=o.a.decode(e);i.a.set("token",e),i.a.set("auth",t),b(!0)},signOut:function(){i.a.remove("token"),i.a.remove("auth"),b(!1)}}},e.children)}}},[[204,10,11]]]);
//# sourceMappingURL=main.598b3e19.chunk.js.map