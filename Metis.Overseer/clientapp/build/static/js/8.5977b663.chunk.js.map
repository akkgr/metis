{"version":3,"sources":["services/api.js","components/containers/LogBooksContainer.js","components/logBooks/LogBooksHeader.js","components/logBooks/LogBookStatus.js","components/logBooks/LogBooksTable.js","components/logBooks/LogBooks.js"],"names":["baseUrl","process","getHeaders","headers","Headers","append","token","storage","get","concat","getJson","_callee6","req","D_github_metis_Metis_Web_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default","a","wrap","_context6","prev","next","json","abrupt","sent","t0","stop","request","_callee7","_ref","method","url","data","res","_context7","fetch","body","JSON","stringify","ok","Error","Message","statusText","status","antd_es_notification__WEBPACK_IMPORTED_MODULE_1__","placement","message","description","api","_get","Object","D_github_metis_Metis_Web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","mark","_callee","_context","_x3","apply","this","arguments","post","_post","_callee2","_context2","_x4","_x5","put","_put","_callee3","_context3","_x6","_x7","patch","_patch","_callee4","_context4","_x8","_x9","delete","_delete2","_callee5","_context5","_x10","LogBooksContainer","children","_useState","useState","_useState2","slicedToArray","logBooks","setLogBooks","useEffect","_fetchLogBooks","asyncToGenerator","regenerator_default","response","fetchLogBooks","React","Children","map","child","cloneElement","STRINGS","LogBooksHeader","onBack","onCreate","react_default","createElement","page_header","title","subTitle","extra","es_button","key","type","size","onClick","className","LogBookStatus","closeDate","Date","tag","color","columns","dataIndex","render","e","row","react_router_dom","to","id","name","item","moment","format","logBooks_LogBookStatus","close","divider","LogBooksTable","table","rowKey","dataSource","pagination","defaultPageSize","hideOnSinglePage","LogBooksView","logBooks_LogBooksHeader","style","display","justifyContent","logBooks_LogBooksTable","LogBooks","containers_LogBooksContainer","LogBooks_LogBooksView"],"mappings":"iJAGMA,EAAUC,wBAEhB,SAASC,IACP,IAAMC,EAAU,IAAIC,QACpBD,EAAQE,OAAO,eAAgB,oBAC/B,IAAMC,EAAQC,IAAQC,IAAI,SAI1B,OAHIF,GACFH,EAAQE,OAAO,gBAAf,UAAAI,OAA0CH,IAErCH,WAGMO,+EAAf,SAAAC,EAAuBC,GAAvB,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEiBN,EAAIO,OAFrB,cAAAH,EAAAI,OAAA,SAAAJ,EAAAK,MAAA,cAAAL,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAAAA,EAAAI,OAAA,SAIW,MAJX,wBAAAJ,EAAAO,SAAAZ,EAAA,iDAQea,+EAAf,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAjB,EAAAkB,EAAA,OAAAjB,EAAAC,EAAAC,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAyBS,EAAzBD,EAAyBC,OAAQC,EAAjCF,EAAiCE,IAAKC,EAAtCH,EAAsCG,KAAtCE,EAAAd,KAAA,EAAAc,EAAAb,KAAA,EAEsBc,MAAMhC,EAAU4B,EAAK,CACrCD,OAAQA,EACRxB,QAASD,IACT+B,KAAMJ,GAAQK,KAAKC,UAAUN,KALnC,cAEUjB,EAFVmB,EAAAV,KAAAU,EAAAb,KAAA,EAQsBR,EAAQE,GAR9B,UAQUkB,EARVC,EAAAV,KASST,EAAIwB,GATb,CAAAL,EAAAb,KAAA,eAUY,IAAImB,MACPP,GAAOA,EAAIQ,SAAZ,GAAA7B,OAA2BG,EAAI2B,WAA/B,MAAA9B,OAA8CG,EAAI4B,OAAlD,MAXR,eAAAT,EAAAX,OAAA,SAcWU,GAdX,eAAAC,EAAAd,KAAA,GAAAc,EAAAT,GAAAS,EAAA,SAgBIU,EAAA,QAA0B,CACxBC,UAAW,cACXC,QAAS,uCACTC,YAAab,EAAAT,GAAIqB,UAnBvBZ,EAAAX,OAAA,SAqBW,MArBX,yBAAAW,EAAAR,SAAAE,EAAA,yCAyBA,IAAMoB,EAAM,CACVrC,IAAG,eAAAsC,EAAAC,OAAAC,EAAA,EAAAD,CAAAlC,EAAAC,EAAAmC,KAAE,SAAAC,EAAMtB,GAAN,OAAAf,EAAAC,EAAAC,KAAA,SAAAoC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAjC,KAAA,EAAmBM,EAAQ,CAAEG,OAAQ,MAAOC,QAA5C,cAAAuB,EAAA/B,OAAA,SAAA+B,EAAA9B,MAAA,wBAAA8B,EAAA5B,SAAA2B,MAAF,gBAAAE,GAAA,OAAAN,EAAAO,MAAAC,KAAAC,YAAA,GACHC,KAAI,eAAAC,EAAAV,OAAAC,EAAA,EAAAD,CAAAlC,EAAAC,EAAAmC,KAAE,SAAAS,EAAO9B,EAAKC,GAAZ,OAAAhB,EAAAC,EAAAC,KAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,cAAAyC,EAAAzC,KAAA,EAA2BM,EAAQ,CAAEG,OAAQ,OAAQC,MAAKC,SAA1D,cAAA8B,EAAAvC,OAAA,SAAAuC,EAAAtC,MAAA,wBAAAsC,EAAApC,SAAAmC,MAAF,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAJ,MAAAC,KAAAC,YAAA,GACJO,IAAG,eAAAC,EAAAhB,OAAAC,EAAA,EAAAD,CAAAlC,EAAAC,EAAAmC,KAAE,SAAAe,EAAOpC,EAAKC,GAAZ,OAAAhB,EAAAC,EAAAC,KAAA,SAAAkD,GAAA,cAAAA,EAAAhD,KAAAgD,EAAA/C,MAAA,cAAA+C,EAAA/C,KAAA,EAA2BM,EAAQ,CAAEG,OAAQ,MAAOC,MAAKC,SAAzD,cAAAoC,EAAA7C,OAAA,SAAA6C,EAAA5C,MAAA,wBAAA4C,EAAA1C,SAAAyC,MAAF,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAV,MAAAC,KAAAC,YAAA,GACHa,MAAK,eAAAC,EAAAtB,OAAAC,EAAA,EAAAD,CAAAlC,EAAAC,EAAAmC,KAAE,SAAAqB,EAAO1C,EAAKC,GAAZ,OAAAhB,EAAAC,EAAAC,KAAA,SAAAwD,GAAA,cAAAA,EAAAtD,KAAAsD,EAAArD,MAAA,cAAAqD,EAAArD,KAAA,EAA2BM,EAAQ,CAAEG,OAAQ,QAASC,MAAKC,SAA3D,cAAA0C,EAAAnD,OAAA,SAAAmD,EAAAlD,MAAA,wBAAAkD,EAAAhD,SAAA+C,MAAF,gBAAAE,EAAAC,GAAA,OAAAJ,EAAAhB,MAAAC,KAAAC,YAAA,GACLmB,OAAM,eAAAC,EAAA5B,OAAAC,EAAA,EAAAD,CAAAlC,EAAAC,EAAAmC,KAAE,SAAA2B,EAAMhD,GAAN,OAAAf,EAAAC,EAAAC,KAAA,SAAA8D,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,cAAA2D,EAAA3D,KAAA,EAAmBM,EAAQ,CAAEG,OAAQ,SAAUC,QAA/C,cAAAiD,EAAAzD,OAAA,SAAAyD,EAAAxD,MAAA,wBAAAwD,EAAAtD,SAAAqD,MAAF,gBAAAE,GAAA,OAAAH,EAAAtB,MAAAC,KAAAC,YAAA,IAGOV,qIClCAkC,EAnBW,SAAArD,GAAkB,IAAfsD,EAAetD,EAAfsD,SAAeC,EACVC,mBAAS,IADCC,EAAApC,OAAAqC,EAAA,EAAArC,CAAAkC,EAAA,GACnCI,EADmCF,EAAA,GACzBG,EADyBH,EAAA,GAY1C,OATAI,oBAAU,WAAM,SAAAC,IAAA,OAAAA,EAAAzC,OAAA0C,EAAA,EAAA1C,CAAA2C,EAAA5E,EAAAmC,KACd,SAAAC,IAAA,IAAAyC,EAAA,OAAAD,EAAA5E,EAAAC,KAAA,SAAAoC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAjC,KAAA,EACyB2B,IAAIrC,IAAI,iBADjC,OACQmF,EADRxC,EAAA9B,KAEEiE,EAAYK,GAFd,wBAAAxC,EAAA5B,SAAA2B,OADcG,MAAAC,KAAAC,YAAA,WAAAiC,EAAAnC,MAAAC,KAAAC,WAMdqC,IACC,IAEIC,IAAMC,SAASC,IAAIf,EAAU,SAAAgB,GAAK,OACvCH,IAAMI,aAAaD,EAAO,CACxBX,oDCbAa,UACG,oDADHA,EAEM,gUAFNA,EAIC,0DAmBQC,EAhBQ,SAAAzE,GAA0BA,EAAvB0E,OAAuB,IAAfC,EAAe3E,EAAf2E,SAChC,OACEC,EAAAxF,EAAAyF,cAAAC,EAAA,GACEC,MAAOP,EACPQ,SAAUR,EAEVS,MACEL,EAAAxF,EAAAyF,cAAAK,EAAA,GAAYC,IAAI,IAAIC,KAAK,UAAUC,KAAK,QAAQC,QAASX,GACtDH,GAGLe,UAAU,qGCnBVf,EACE,uCADFA,EAEI,mDAaKgB,EAVO,SAAAxF,GAAmB,IAAhByF,EAAgBzF,EAAhByF,UAGvB,OAFiB,IAAIC,KAAKD,GAAa,IAAIC,KAGzCd,EAAAxF,EAAAyF,cAAAc,EAAA,GAASC,MAAM,WAAWpB,GAE1BI,EAAAxF,EAAAyF,cAAAc,EAAA,GAASC,MAAM,WAAWpB,ICPxBA,EACE,qEADFA,EAEE,6CAGFqB,EAAU,CACd,CACEd,MAAO,uCACPe,UAAW,OACXX,IAAK,OACLY,OAAQ,SAACC,EAAGC,GAAJ,OAAYrB,EAAAxF,EAAAyF,cAACqB,EAAA,EAAD,CAASC,GAAE,aAAApH,OAAekH,EAAIG,KAAOH,EAAII,QAE/D,CACEtB,MAAO,2BACPe,UAAW,QACXX,IAAK,QACLY,OAAQ,SAAAO,GAAI,OAAIC,IAAOD,GAAME,OAAO,OAEtC,CACEzB,MAAO,yDACPe,UAAW,aACXX,IAAK,SAEP,CACEJ,MAAO,mDACPe,UAAW,eACXX,IAAK,gBAEP,CACEJ,MAAO,2BACPe,UAAW,eACXX,IAAK,gBAEP,CACEJ,MAAO,yDACPe,UAAW,SACXX,IAAK,SACLY,OAAQ,SAACC,EAAGC,GAAJ,OAAYrB,EAAAxF,EAAAyF,cAAC4B,EAAD,CAAehB,UAAWQ,EAAIS,UAEpD,CACE3B,MAAO,yDACPI,IAAK,SACLY,OAAQ,SAACC,EAAGC,GAAJ,OACNrB,EAAAxF,EAAAyF,cAAA,YACED,EAAAxF,EAAAyF,cAACqB,EAAA,EAAD,CAASC,GAAE,aAAApH,OAAekH,EAAIG,GAAnB,UAA+B5B,GAC1CI,EAAAxF,EAAAyF,cAAA8B,EAAA,GAAavB,KAAK,aAClBR,EAAAxF,EAAAyF,cAACqB,EAAA,EAAD,CAASC,GAAE,aAAApH,OAAekH,EAAIG,KAAO5B,OAoB9BoC,EAdO,SAAA5G,GAAkB,IAAf2D,EAAe3D,EAAf2D,SACvB,OACEiB,EAAAxF,EAAAyF,cAAAgC,EAAA,GACEtB,UAAU,iBAEVuB,OAAQ,SAAAR,GAAI,OAAIA,EAAKF,IACrBP,QAASA,EACTkB,WAAYpD,EAEZqD,WAAY,CAAEC,gBAAiB,GAAIC,kBAAkB,MC9DrDC,EAAe,SAAAnH,GAAkB,IAAf2D,EAAe3D,EAAf2D,SACtB,OACEiB,EAAAxF,EAAAyF,cAAA,WACED,EAAAxF,EAAAyF,cAACuC,EAAD,MACAxC,EAAAxF,EAAAyF,cAAA,OAAKwC,MAAO,CAAEC,QAAS,OAAQC,eAAgB,WAC7C3C,EAAAxF,EAAAyF,cAAC2C,EAAD,CAAe7D,SAAUA,OAYlB8D,UANE,kBACf7C,EAAAxF,EAAAyF,cAAC6C,EAAD,KACE9C,EAAAxF,EAAAyF,cAAC8C,EAAD","file":"static/js/8.5977b663.chunk.js","sourcesContent":["import { notification as antdNotification } from 'antd'\r\nimport storage from './storage'\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL\r\n\r\nfunction getHeaders() {\r\n  const headers = new Headers()\r\n  headers.append('Content-Type', 'application/json')\r\n  const token = storage.get('token')\r\n  if (token) {\r\n    headers.append('Authorization', `Bearer ${token}`)\r\n  }\r\n  return headers\r\n}\r\n\r\nasync function getJson(req) {\r\n  try {\r\n    return await req.json()\r\n  } catch (err) {\r\n    return null\r\n  }\r\n}\r\n\r\nasync function request({ method, url, data }) {\r\n  try {\r\n    const req = await fetch(baseUrl + url, {\r\n      method: method,\r\n      headers: getHeaders(),\r\n      body: data && JSON.stringify(data)\r\n    })\r\n\r\n    const res = await getJson(req)\r\n    if (!req.ok) {\r\n      throw new Error(\r\n        (res && res.Message) || `${req.statusText} (${req.status})`\r\n      )\r\n    }\r\n    return res\r\n  } catch (err) {\r\n    antdNotification['error']({\r\n      placement: 'bottomRight',\r\n      message: 'Σφάλμα',\r\n      description: err.message\r\n    })\r\n    return null\r\n  }\r\n}\r\n\r\nconst api = {\r\n  get: async url => await request({ method: 'GET', url }),\r\n  post: async (url, data) => await request({ method: 'POST', url, data }),\r\n  put: async (url, data) => await request({ method: 'PUT', url, data }),\r\n  patch: async (url, data) => await request({ method: 'PATCH', url, data }),\r\n  delete: async url => await request({ method: 'DELETE', url })\r\n}\r\n\r\nexport default api\r\n","import React, { useState, useEffect } from 'react'\r\nimport api from '../../services/api'\r\n\r\nconst LogBooksContainer = ({ children }) => {\r\n  const [logBooks, setLogBooks] = useState([])\r\n\r\n  useEffect(() => {\r\n    async function fetchLogBooks() {\r\n      const response = await api.get('/api/logbooks')\r\n      setLogBooks(response)\r\n    }\r\n\r\n    fetchLogBooks()\r\n  }, [])\r\n\r\n  return React.Children.map(children, child =>\r\n    React.cloneElement(child, {\r\n      logBooks\r\n    })\r\n  )\r\n}\r\n\r\nexport default LogBooksContainer\r\n","import React from 'react'\r\nimport { PageHeader as AntdPageHeader, Button as AntdButton } from 'antd'\r\nimport './logBooks.less'\r\n\r\nconst STRINGS = {\r\n  TITLE: 'Συμβάντα',\r\n  SUBTITLE: 'Σύντομη ανασκόπηση συμβάντων ταξινομημένα κατα ημερομηνία',\r\n  REFRESH: 'Ανανέωση',\r\n  NEW: 'Νέο Συμβάν'\r\n}\r\n\r\nconst LogBooksHeader = ({ onBack, onCreate }) => {\r\n  return (\r\n    <AntdPageHeader\r\n      title={STRINGS.TITLE}\r\n      subTitle={STRINGS.SUBTITLE}\r\n      //onBack={() => onBack()}\r\n      extra={\r\n        <AntdButton key=\"1\" type=\"primary\" size=\"small\" onClick={onCreate}>\r\n          {STRINGS.NEW}\r\n        </AntdButton>\r\n      }\r\n      className=\"logbooks-header\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default LogBooksHeader\r\n","import React from 'react'\r\nimport { Tag as AntdTag } from 'antd'\r\n\r\nconst STRINGS = {\r\n  OPEN: 'Ενεργό',\r\n  CLOSED: 'Ανενεργό'\r\n}\r\n\r\nconst LogBookStatus = ({ closeDate }) => {\r\n  const isClosed = new Date(closeDate) < new Date()\r\n\r\n  return isClosed ? (\r\n    <AntdTag color=\"#cf1322\">{STRINGS.CLOSED}</AntdTag>\r\n  ) : (\r\n    <AntdTag color=\"#378212\">{STRINGS.OPEN}</AntdTag>\r\n  )\r\n}\r\n\r\nexport default LogBookStatus\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { Table as AntdTable, Divider as AntdDivider } from 'antd'\r\nimport moment from 'moment'\r\nimport LogBookStatus from './LogBookStatus'\r\nimport './logBooks.less'\r\n\r\nconst STRINGS = {\r\n  EDIT: 'επεξεργασία',\r\n  VIEW: 'προβολή'\r\n}\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Τίτλος',\r\n    dataIndex: 'name',\r\n    key: 'name',\r\n    render: (e, row) => <NavLink to={`/logbooks/${row.id}`}>{row.name}</NavLink>\r\n  },\r\n  {\r\n    title: 'Λήξη',\r\n    dataIndex: 'close',\r\n    key: 'close',\r\n    render: item => moment(item).format('L')\r\n  },\r\n  {\r\n    title: 'Συντάκτης',\r\n    dataIndex: 'owner.name',\r\n    key: 'owner'\r\n  },\r\n  {\r\n    title: 'Γεγονότα',\r\n    dataIndex: 'entriesCount',\r\n    key: 'entriesCount'\r\n  },\r\n  {\r\n    title: 'Μέλη',\r\n    dataIndex: 'membersCount',\r\n    key: 'membersCount'\r\n  },\r\n  {\r\n    title: 'Κατάσταση',\r\n    dataIndex: 'status',\r\n    key: 'status',\r\n    render: (e, row) => <LogBookStatus closeDate={row.close} />\r\n  },\r\n  {\r\n    title: 'Ενέργειες',\r\n    key: 'action',\r\n    render: (e, row) => (\r\n      <span>\r\n        <NavLink to={`/logbooks/${row.id}/edit`}>{STRINGS.EDIT}</NavLink>\r\n        <AntdDivider type=\"vertical\" />\r\n        <NavLink to={`/logbooks/${row.id}`}>{STRINGS.VIEW}</NavLink>\r\n      </span>\r\n    )\r\n  }\r\n]\r\n\r\nconst LogBooksTable = ({ logBooks }) => {\r\n  return (\r\n    <AntdTable\r\n      className=\"logbooks-table\"\r\n      //loading={loading}\r\n      rowKey={item => item.id}\r\n      columns={columns}\r\n      dataSource={logBooks}\r\n      //onChange={handleTableChange}\r\n      pagination={{ defaultPageSize: 15, hideOnSinglePage: true }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default LogBooksTable\r\n","import React from 'react'\r\nimport LogBooksContainer from '../containers/LogBooksContainer'\r\nimport LogBooksHeader from './LogBooksHeader'\r\nimport LogBooksTable from './LogBooksTable'\r\nimport './logBooks.less'\r\n\r\nconst LogBooksView = ({ logBooks }) => {\r\n  return (\r\n    <div>\r\n      <LogBooksHeader />\r\n      <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n        <LogBooksTable logBooks={logBooks} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst LogBooks = () => (\r\n  <LogBooksContainer>\r\n    <LogBooksView />\r\n  </LogBooksContainer>\r\n)\r\n\r\nexport default LogBooks\r\n"],"sourceRoot":""}