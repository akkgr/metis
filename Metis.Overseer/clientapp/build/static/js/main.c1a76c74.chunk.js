(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports={StatusContainer:"Map_StatusContainer__355qF",SiteRow:"Map_SiteRow__330zv",DropdownInput:"Map_DropdownInput__1gZu_",Dropdown:"Map_Dropdown__3M2D9",SiteView:"Map_SiteView__3K6ou",SiteViewHeader:"Map_SiteViewHeader__100Dm",SiteViewParagraph:"Map_SiteViewParagraph__2QLKL",AlarmsContainer:"Map_AlarmsContainer__2Klq2",AlarmsContent:"Map_AlarmsContent__QdsXi"}},210:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAB5ElEQVQ4T6WTQYhSURSGPyUZ5E3PjQUJUoqguKmF8BYuw3A7EYgEhi0kgnygxNguNAVdiSCChLSIZiFuLFwELdwIgUh7U4twERmk9rJhGo27ePJmCgbqLi/3+885//mviT+PBdgBLgAysAS+AD+BI+Nz0ynWCdwArkuS5LZarTur1epQ07SPwGvgDfBBZ4zwZeChLMs3FUWxBwIBiyzLLJdLBoPBUa/Xmy0Wi5dAERgLAR0WFfedTuedSCSyG4/H8fv926aGwyH1ep1Wq6VNJpMDIAt8ErCYMSbLci6RSFxSVRWHw4HZbN7Cm82G6XRKrVajWq1+nc/n+8BzAe8C9VAodKtcLlt8Pt8JUFdYr9eIDlKp1K9Op9MEHgjYJUnSQTKZVAqFwl/MP3mVzWYplUpvNU2LC/iq3W5/lk6nr2UymTPhcrlMPp9/N5vN7gnYLUnSC1VVlXw+fyacy+UoFoui8l0BnweehsPhvUqlYvF4PJhMp9cPwrTxeCxmPm632y3g/n+7LVq9AjxyuVy3o9GoFIvF8Hq92xFGoxGNRoNms/ljOBwKpx+LpBn7cwsBm822FwwGbYqinNMT1u/3j7vd7rf5fP4KeAK8NyZMr/LP2dYFxI8Swblo+FWfge/AoXEdvwFPY8POUzxX0wAAAABJRU5ErkJggg=="},224:function(e,t,a){},244:function(e,t,a){e.exports=a.p+"static/media/logo.767649f2.png"},263:function(e){e.exports={version:8,name:"Dark Matter NPDS",metadata:{"mapbox:autocomposite":!1,"mapbox:type":"template","mapbox:groups":{b6371a3f2f5a9932464fa3867530a2e5:{name:"Transportation",collapsed:!1},a14c9607bc7954ba1df7205bf660433f:{name:"Boundaries"},"101da9f13b64a08fa4b6ac1168e89e5f":{name:"Places",collapsed:!1}},"openmaptiles:version":"3.x","openmaptiles:mapbox:owner":"openmaptiles","openmaptiles:mapbox:source:url":"mapbox://openmaptiles.4qljc88t","maptiler:copyright":"This style was generated on MapTiler Cloud. Usage outside of MapTiler Cloud requires valid OpenMapTiles Production Package: https://openmaptiles.com/production-package/ -- please contact us."},sources:{openmaptiles:{type:"vector",url:"https://api.maptiler.com/tiles/v3/tiles.json?key=BrAd61KPGQnwfdSwxn5t"},maptiler_attribution:{type:"vector",attribution:'<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'}},sprite:"https://api.maptiler.com/maps/e92e211e-b1d8-464f-8b4e-12da59d2be02/sprite",glyphs:"https://api.maptiler.com/fonts/{fontstack}/{range}.pbf?key=BrAd61KPGQnwfdSwxn5t",layers:[{id:"background",type:"background",paint:{"background-color":"rgb(24, 112, 112)"}},{id:"water",type:"fill",source:"openmaptiles","source-layer":"water",filter:["==","$type","Polygon"],layout:{visibility:"visible"},paint:{"fill-color":"rgb(27 ,27 ,29)","fill-antialias":!1}},{id:"landcover_ice_shelf",type:"fill",source:"openmaptiles","source-layer":"landcover",maxzoom:8,filter:["all",["==","$type","Polygon"],["==","subclass","ice_shelf"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(12,12,12)","fill-opacity":.7}},{id:"landcover_glacier",type:"fill",source:"openmaptiles","source-layer":"landcover",maxzoom:8,filter:["all",["==","$type","Polygon"],["==","subclass","glacier"]],layout:{visibility:"visible"},paint:{"fill-color":"hsl(0, 1%, 2%)","fill-opacity":{base:1,stops:[[0,1],[8,.5]]}}},{id:"landuse_residential",type:"fill",source:"openmaptiles","source-layer":"landuse",maxzoom:9,filter:["all",["==","$type","Polygon"],["==","class","residential"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(23, 115, 115)","fill-opacity":.4}},{id:"landcover_wood",type:"fill",source:"openmaptiles","source-layer":"landcover",minzoom:10,filter:["all",["==","$type","Polygon"],["==","class","wood"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(56, 109, 81)","fill-opacity":{base:.3,stops:[[8,0],[10,.8],[13,.4]]},"fill-translate":[0,0],"fill-pattern":"wood-pattern"}},{id:"landuse_park",type:"fill",source:"openmaptiles","source-layer":"landuse",filter:["all",["==","$type","Polygon"],["==","class","park"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(56, 109, 81)"}},{id:"waterway",type:"line",source:"openmaptiles","source-layer":"waterway",filter:["==","$type","LineString"],layout:{visibility:"visible"},paint:{"line-color":"rgb(27 ,27 ,29)"}},{id:"water_name",type:"symbol",source:"openmaptiles","source-layer":"water_name",filter:["all",["==","$type","LineString"],["!has","name:el"]],layout:{"text-field":"{name:latin} {name:nonlatin}","symbol-placement":"line","text-rotation-alignment":"map","symbol-spacing":500,"text-font":["Metropolis Medium Italic","Noto Sans Italic"],"text-size":12},paint:{"text-color":"hsla(0, 0%, 0%, 0.7)","text-halo-color":"hsl(0, 0%, 27%)"}},{id:"water_name-el",type:"symbol",source:"openmaptiles","source-layer":"water_name",filter:["all",["==","$type","LineString"],["has","name:el"]],layout:{"text-field":"{name:el} {name:latin}","symbol-placement":"line","text-rotation-alignment":"map","symbol-spacing":500,"text-font":["Metropolis Medium Italic","Noto Sans Italic"],"text-size":12},paint:{"text-color":"hsla(0, 0%, 0%, 0.7)","text-halo-color":"hsl(0, 0%, 27%)"}},{id:"building",type:"fill",source:"openmaptiles","source-layer":"building",minzoom:12,filter:["==","$type","Polygon"],paint:{"fill-color":"rgb(23, 109, 109)","fill-outline-color":"rgb(27, 141, 141)","fill-antialias":!0}},{id:"aeroway-taxiway",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:12,filter:["all",["in","class","taxiway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#181818","line-width":{base:1.55,stops:[[13,1.8],[20,20]]},"line-opacity":1}},{id:"aeroway-runway-casing",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:11,filter:["all",["in","class","runway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgba(60,60,60,0.8)","line-width":{base:1.5,stops:[[11,5],[17,55]]},"line-opacity":1}},{id:"aeroway-area",type:"fill",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:4,filter:["all",["==","$type","Polygon"],["in","class","runway","taxiway"]],layout:{visibility:"visible"},paint:{"fill-opacity":1,"fill-color":"rgb(20, 92, 92)"}},{id:"aeroway-runway",type:"line",metadata:{"mapbox:group":"1444849345966.4436"},source:"openmaptiles","source-layer":"aeroway",minzoom:11,filter:["all",["in","class","runway"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#000","line-width":{base:1.5,stops:[[11,4],[17,50]]},"line-opacity":1}},{id:"road_area_pier",type:"fill",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","Polygon"],["==","class","pier"]],layout:{visibility:"visible"},paint:{"fill-color":"rgb(24, 112, 112)","fill-antialias":!0}},{id:"road_pier",type:"line",metadata:{},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["in","class","pier"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"rgb(12,12,12)","line-width":{base:1.2,stops:[[15,1],[17,4]]}}},{id:"highway_path",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",filter:["all",["==","$type","LineString"],["==","class","path"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"rgb(27 ,27 ,29)","line-width":{base:1.2,stops:[[13,1],[20,10]]},"line-opacity":.9,"line-dasharray":[1.5,1.5]}},{id:"highway_minor",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:8,filter:["all",["==","$type","LineString"],["in","class","minor","service","track"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#181818","line-width":{base:1.55,stops:[[13,1.8],[20,20]]},"line-opacity":.9}},{id:"highway_major_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgba(60,60,60,0.8)","line-dasharray":[12,0],"line-width":{base:1.3,stops:[[10,3],[20,23]]}}},{id:"highway_major_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 7%)","line-width":{base:1.3,stops:[[10,2],[20,20]]}}},{id:"highway_major_subtle",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,maxzoom:11,filter:["all",["==","$type","LineString"],["in","class","primary","secondary","tertiary","trunk"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#2a2a2a","line-width":{stops:[[6,0],[8,2]]}}},{id:"highway_motorway_casing",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"butt","line-join":"miter",visibility:"visible"},paint:{"line-color":"rgba(60,60,60,0.8)","line-width":{base:1.4,stops:[[5.8,0],[6,3],[20,40]]},"line-dasharray":[2,0],"line-opacity":1}},{id:"highway_motorway_inner",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":{base:1,stops:[[5.8,"hsla(0, 0%, 85%, 0.53)"],[6,"#000"]]},"line-width":{base:1.4,stops:[[4,2],[6,1.3],[20,30]]}}},{id:"highway_motorway_subtle",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",maxzoom:6,filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"#181818","line-width":{base:1.4,stops:[[4,2],[6,1.3]]}}},{id:"railway_transit",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","transit"],["!in","brunnel","tunnel"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(35,35,35)","line-width":3}},{id:"railway_transit_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","transit"],["!in","brunnel","tunnel"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(12,12,12)","line-width":2,"line-dasharray":[3,3]}},{id:"railway_minor",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","rail"],["has","service"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(35,35,35)","line-width":3}},{id:"railway_minor_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:16,filter:["all",["==","$type","LineString"],["all",["==","class","rail"],["has","service"]]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(12,12,12)","line-width":2,"line-dasharray":[3,3]}},{id:"railway",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["==","$type","LineString"],["==","class","rail"],["!has","service"]],layout:{visibility:"visible","line-join":"round"},paint:{"line-width":{base:1.3,stops:[[16,3],[20,7]]},"line-color":"rgb(35,35,35)"}},{id:"railway_dashline",type:"line",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation",minzoom:13,filter:["all",["==","$type","LineString"],["==","class","rail"],["!has","service"]],layout:{visibility:"visible","line-join":"round"},paint:{"line-color":"rgb(12,12,12)","line-width":{base:1.3,stops:[[16,2],[20,6]]},"line-dasharray":[3,3]}},{id:"highway_name_other",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["!=","class","motorway"],["==","$type","LineString"],["!has","name:el"]],layout:{"text-size":10,"text-max-angle":30,"text-transform":"uppercase","symbol-spacing":350,"text-font":["Metropolis Regular","Noto Sans Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name:latin} {name:nonlatin}"},paint:{"text-color":"rgba(80, 78, 78, 1)","text-translate":[0,0],"text-halo-color":"rgba(0, 0, 0, 1)","text-halo-width":1,"text-halo-blur":0}},{id:"highway_name_other-el",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["!=","class","motorway"],["==","$type","LineString"],["has","name:el"]],layout:{"text-size":10,"text-max-angle":30,"text-transform":"uppercase","symbol-spacing":350,"text-font":["Metropolis Regular","Noto Sans Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":"{name:el} {name:latin}"},paint:{"text-color":"rgba(80, 78, 78, 1)","text-translate":[0,0],"text-halo-color":"rgba(0, 0, 0, 1)","text-halo-width":1,"text-halo-blur":0}},{id:"highway_name_motorway",type:"symbol",metadata:{"mapbox:group":"b6371a3f2f5a9932464fa3867530a2e5"},source:"openmaptiles","source-layer":"transportation_name",filter:["all",["==","$type","LineString"],["==","class","motorway"]],layout:{"text-size":10,"symbol-spacing":350,"text-font":["Metropolis Light","Noto Sans Regular"],"symbol-placement":"line",visibility:"visible","text-rotation-alignment":"viewport","text-pitch-alignment":"viewport","text-field":"{ref}"},paint:{"text-color":"hsl(0, 0%, 37%)","text-translate":[0,2]}},{id:"boundary_state",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["==","admin_level",4],layout:{"line-cap":"round","line-join":"round",visibility:"visible"},paint:{"line-color":"hsl(0, 0%, 21%)","line-width":{base:1.3,stops:[[3,1],[22,15]]},"line-blur":.4,"line-dasharray":[2,2],"line-opacity":1}},{id:"boundary_country",type:"line",metadata:{"mapbox:group":"a14c9607bc7954ba1df7205bf660433f"},source:"openmaptiles","source-layer":"boundary",filter:["==","admin_level",2],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"hsl(0, 0%, 23%)","line-width":{base:1.1,stops:[[3,1],[22,20]]},"line-blur":{base:1,stops:[[0,.4],[22,4]]},"line-opacity":1}},{id:"place_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["in","class","hamlet","isolated_dwelling","neighbourhood"],["!has","name:el"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"center",visibility:"none","text-offset":[.5,0],"text-anchor":"center","text-field":"{name:latin}\n{name:nonlatin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_other-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["in","class","hamlet","isolated_dwelling","neighbourhood"],["has","name:el"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"center",visibility:"none","text-offset":[.5,0],"text-anchor":"center","text-field":"{name:el}\n{name:latin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_suburb",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","suburb"],["!has","name:el"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"center",visibility:"none","text-offset":[.5,0],"text-anchor":"center","text-field":"{name:latin}\n{name:nonlatin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_suburb-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","suburb"],["has","name:el"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"center",visibility:"none","text-offset":[.5,0],"text-anchor":"center","text-field":"{name:el}\n{name:latin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_village",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","village"],["!has","name:el"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":"left","text-field":"{name:latin}\n{name:nonlatin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_village-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","village"],["has","name:el"]],layout:{"text-size":10,"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":"left","text-field":"{name:el}\n{name:latin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_town",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","town"],["!has","name:el"]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name:latin}\n{name:nonlatin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_town-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:15,filter:["all",["==","$type","Point"],["==","class","town"],["has","name:el"]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name:el}\n{name:latin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","city"],[">","rank",3],["!has","name:el"]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name:latin}\n{name:nonlatin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:14,filter:["all",["==","$type","Point"],["==","class","city"],[">","rank",3],["has","name:el"]],layout:{"text-size":10,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name:el}\n{name:latin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city_large",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["<=","rank",3],["==","class","city"],["!has","name:el"]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name:latin}\n{name:nonlatin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_city_large-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["<=","rank",3],["==","class","city"],["has","name:el"]],layout:{"text-size":14,"icon-image":{base:1,stops:[[0,"circle-11"],[9,""]]},"text-transform":"uppercase","text-font":["Metropolis Regular","Noto Sans Regular"],"text-justify":"left",visibility:"none","text-offset":[.5,.2],"icon-size":.4,"text-anchor":{base:1,stops:[[0,"left"],[8,"center"]]},"text-field":"{name:el}\n{name:latin}"},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1,"icon-opacity":.7}},{id:"place_state",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","state"],["!has","name:el"]],layout:{visibility:"none","text-field":"{name:latin}\n{name:nonlatin}","text-font":["Metropolis Regular","Noto Sans Regular"],"text-transform":"uppercase","text-size":10},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_state-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:12,filter:["all",["==","$type","Point"],["==","class","state"],["has","name:el"]],layout:{visibility:"none","text-field":"{name:el}\n{name:latin}","text-font":["Metropolis Regular","Noto Sans Regular"],"text-transform":"uppercase","text-size":10},paint:{"text-color":"rgb(101,101,101)","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":1,"text-halo-blur":1}},{id:"place_country_other",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"],["!has","name:el"]],layout:{visibility:"none","text-field":"{name:latin}\n{name:nonlatin}","text-font":["Metropolis Light Italic","Noto Sans Italic"],"text-transform":"uppercase","text-size":{base:1,stops:[[0,9],[1,11]]}},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}},{id:"place_country_other-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["==","class","country"],["!has","iso_a2"],["has","name:el"]],layout:{visibility:"none","text-field":"{name:el}\n{name:latin}","text-font":["Metropolis Light Italic","Noto Sans Italic"],"text-transform":"uppercase","text-size":{base:1,stops:[[0,9],[1,11]]}},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}},{id:"place_country_minor",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["==","class","country"],[">=","rank",2],["has","iso_a2"],["!has","name:el"]],layout:{visibility:"none","text-field":"{name:latin}\n{name:nonlatin}","text-font":["Metropolis Regular","Noto Sans Regular"],"text-transform":"uppercase","text-size":{base:1,stops:[[0,10],[6,12]]}},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}},{id:"place_country_minor-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:8,filter:["all",["==","$type","Point"],["==","class","country"],[">=","rank",2],["has","iso_a2"],["has","name:el"]],layout:{visibility:"none","text-field":"{name:el}\n{name:latin}","text-font":["Metropolis Regular","Noto Sans Regular"],"text-transform":"uppercase","text-size":{base:1,stops:[[0,10],[6,12]]}},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}},{id:"place_country_major",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:6,filter:["all",["==","$type","Point"],["<=","rank",1],["==","class","country"],["has","iso_a2"],["!has","name:el"]],layout:{visibility:"none","text-field":"{name:latin}\n{name:nonlatin}","text-font":["Metropolis Regular","Noto Sans Regular"],"text-transform":"uppercase","text-size":{base:1.4,stops:[[0,10],[3,12],[4,14]]},"text-anchor":"center"},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}},{id:"place_country_major-el",type:"symbol",metadata:{"mapbox:group":"101da9f13b64a08fa4b6ac1168e89e5f"},source:"openmaptiles","source-layer":"place",maxzoom:6,filter:["all",["==","$type","Point"],["<=","rank",1],["==","class","country"],["has","iso_a2"],["has","name:el"]],layout:{visibility:"none","text-field":"{name:el}\n{name:latin}","text-font":["Metropolis Regular","Noto Sans Regular"],"text-transform":"uppercase","text-size":{base:1.4,stops:[[0,10],[3,12],[4,14]]},"text-anchor":"center"},paint:{"text-halo-width":1.4,"text-halo-color":"rgba(0,0,0,0.7)","text-color":"rgb(101,101,101)"}}],id:"e92e211e-b1d8-464f-8b4e-12da59d2be02",center:[25.711654140453902,37.239632183825776],zoom:6.675451469674258}},371:function(e,t,a){},452:function(e,t,a){e.exports=a(779)},457:function(e,t,a){},461:function(e,t){},463:function(e,t){},500:function(e,t){},501:function(e,t){},634:function(e,t,a){},765:function(e,t,a){},779:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),o=a.n(r),i=a(86),s=(a(457),a(160)),c=a(41),u=(a(325),a(189)),m=a(317),p=a.n(m),f={prefix:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"/"}).REACT_APP_STORAGE_PREFIX||"",get:function(e){var t=localStorage.getItem(f.prefix+e);return JSON.parse(t)},set:function(e,t){return localStorage.setItem(f.prefix+e,JSON.stringify(t))},remove:function(e){localStorage.removeItem(f.prefix+e)}},d=f,b=l.a.createContext({isAuthenticated:!0,signIn:function(){},signOut:function(){}}),y=function(e){var t=d.get("token"),a=d.get("auth"),r=function(){return!a&&t&&(a=p.a.decode(t),d.set("auth",a)),a},o=Object(n.useState)((a=r())&&a.username&&!function(){var e=r();return e&&1e3*e.exp<(new Date).valueOf()}()),i=Object(c.a)(o,2),s=i[0],u=i[1];return l.a.createElement(b.Provider,{value:{isAuthenticated:s,signIn:function(e){var t=p.a.decode(e);d.set("token",e),d.set("auth",t),u(!0)},signOut:function(){d.remove("token"),d.remove("auth"),u(!1)}}},e.children)},h=(a(370),a(93)),g=(a(124),a(10)),x=(a(371),a(224),function(e){var t=e.openSidebar;return l.a.createElement(h.b,{mode:"horizontal",className:"has-background-dark mobile-menu",selectable:!1},l.a.createElement(h.b.Item,{key:"99",className:"menu-item ",onClick:t},l.a.createElement(g.a,{type:"menu"})))}),E=a(244),w=a.n(E),v=function(e){var t=e.collapsed,a=e.toggleCollapsed,r=Object(n.useContext)(b),o=window.innerWidth<=760,s=o?0:80,c=d.get("auth"),m=o?l.a.createElement(h.b.Item,{key:"1",onClick:a},l.a.createElement("span",null,l.a.createElement(g.a,{type:t?"menu-unfold":"menu-fold"}),l.a.createElement("span",null,"\u0395\u03bb\u03b1\u03c7\u03b9\u03c3\u03c4\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7"))):null;return l.a.createElement(u.a.Sider,{collapsed:t,collapsedWidth:s},l.a.createElement(h.b,{selectable:!1,mode:"vertical",className:"is-fullheight sidebar"},l.a.createElement("div",{className:"logo-item",key:"0"},l.a.createElement("img",{className:"logo",src:w.a,alt:"..."}),l.a.createElement("span",{className:"ml-1"},"Metis")),l.a.createElement(h.b.Item,{key:"name",className:"mb-5"},l.a.createElement("span",{className:"user-profile"},l.a.createElement(g.a,{type:"user"}),l.a.createElement("span",null,c.title))),m,l.a.createElement(h.b.Item,{key:"2",onClick:o?a:null},l.a.createElement(i.b,{to:"/dashboard"},l.a.createElement(g.a,{type:"home"}),l.a.createElement("span",null,"\u0391\u03c1\u03c7\u03b9\u03ba\u03ae"))),l.a.createElement(h.b.Item,{key:"3",onClick:o?a:null},l.a.createElement(i.b,{to:"/map"},l.a.createElement(g.a,{type:"global"}),l.a.createElement("span",null,"\u03a7\u03ac\u03c1\u03c4\u03b7\u03c2"))),l.a.createElement(h.b.Item,{key:"4",onClick:o?a:null},l.a.createElement(i.b,{to:"/books"},l.a.createElement(g.a,{type:"notification"}),l.a.createElement("span",null,"\u03a3\u03c5\u03bc\u03b2\u03ac\u03bd\u03c4\u03b1"))),l.a.createElement(h.b.Item,{className:"bottom-menu-item",key:"99",onClick:r.signOut},l.a.createElement("span",null,l.a.createElement(g.a,{type:"logout"}),l.a.createElement("span",null,"\u0391\u03c0\u03bf\u03c3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7")))))},k=u.a.Content,S=function(e){var t=Object(n.useState)(!0),a=Object(c.a)(t,2),r=a[0],o=a[1],i=function(){return o(!r)},s=Object(n.useContext)(b),m=s.isAuthenticated?l.a.createElement(x,{openSidebar:i}):null,p=s.isAuthenticated?l.a.createElement(v,{collapsed:r,toggleCollapsed:i}):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{className:"is-fullheight"},p,l.a.createElement(u.a,null,m,l.a.createElement(k,{className:"calc-h"},e.children))))},j=(a(155),a(66)),_=(a(127),a(39)),O=(a(302),a(63)),N=(a(156),a(95)),z=(a(202),a(101)),C=(a(157),a(45)),I=(a(627),a(415)),M=(a(629),a(417)),P=(a(230),a(116)),R=a(47),A=a.n(R),L=a(71),T=a(182),$=a(89),D=(a(231),a(104)),B="/";function U(){var e=new Headers;e.append("Content-Type","application/json");var t=d.get("token");return t&&e.append("Authorization","Bearer ".concat(t)),e}function V(e){return F.apply(this,arguments)}function F(){return(F=Object(L.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}function Y(e){return G.apply(this,arguments)}function G(){return(G=Object(L.a)(A.a.mark(function e(t){var a,n,l,r,o;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method,n=t.url,l=t.data,e.prev=1,e.next=4,fetch(B+n,{method:a,headers:U(),body:l&&JSON.stringify(l)});case 4:return r=e.sent,e.next=7,V(r);case 7:if(o=e.sent,r.ok){e.next=10;break}throw new Error(o&&o.Message||"".concat(r.statusText," (").concat(r.status,")"));case 10:return e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(1),D.a.error({placement:"bottomRight",message:"\u03a3\u03c6\u03ac\u03bb\u03bc\u03b1",description:e.t0.message}),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}var K={get:function(){var e=Object(L.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({method:"GET",url:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(L.a)(A.a.mark(function e(t,a){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({method:"POST",url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),put:function(){var e=Object(L.a)(A.a.mark(function e(t,a){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({method:"PUT",url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),patch:function(){var e=Object(L.a)(A.a.mark(function e(t,a){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({method:"PATCH",url:t,data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(L.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y({method:"DELETE",url:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},H=(a(634),function(){var e=Object(n.useContext)(b),t=Object(n.useState)({username:"",password:""}),a=Object(c.a)(t,2),r=a[0],o=a[1],i=function(e){o(Object($.a)({},r,Object(T.a)({},e.target.name,e.target.value)))},s=function(){var t=Object(L.a)(A.a.mark(function t(){var a;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.post("/api/token",r);case 2:(a=t.sent)&&a.token&&e.signIn(a.token);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),u=r.username&&l.a.createElement(g.a,{type:"close-circle",onClick:function(){o(Object($.a)({},r,{username:""}))}});return l.a.createElement(j.a,{className:"is-fullheight",type:"flex",justify:"center",align:"middle"},l.a.createElement(C.a,{xs:{span:0},md:{span:11},xl:{span:7},xxl:{span:5}},l.a.createElement(I.a,{author:l.a.createElement(P.a.Title,{className:"metis-title",level:4},"Metis"),avatar:l.a.createElement(M.a,{size:124,src:w.a,alt:"TODO"}),content:l.a.createElement("p",{className:"content-fix"},"Some text that they will propably provide for use about the application. Otherwise some basic info about what this application does.")})),l.a.createElement(C.a,{xs:{span:0},md:{span:1},className:"has-text-centered"},l.a.createElement(z.a,{type:"vertical",className:"divider"})),l.a.createElement(C.a,{xs:{span:21},md:{span:11},xl:{span:7},xxl:{span:5}},l.a.createElement(O.a,null,l.a.createElement(P.a.Title,{className:"mb-5",level:2},"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7"),l.a.createElement(O.a.Item,null,l.a.createElement(N.a,{placeholder:"\u03a3\u03c5\u03bc\u03c0\u03bb\u03b7\u03c1\u03ce\u03c3\u03c4\u03b5 \u03cc\u03bd\u03bf\u03bc\u03b1 \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7",size:"large",name:"username",autoComplete:"username",prefix:l.a.createElement(g.a,{type:"user"}),suffix:u,className:"has-text-dark",value:r.username,onChange:i})),l.a.createElement(O.a.Item,null,l.a.createElement(N.a.Password,{autoComplete:"password",size:"large",className:"has-text-dark",name:"password",prefix:l.a.createElement(g.a,{type:"lock"}),value:r.password,onChange:i,placeholder:"\u039f \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2 \u03c3\u03b1\u03c2",onPressEnter:s})),l.a.createElement(O.a.Item,null,l.a.createElement(_.a,{type:"primary",size:"large",onClick:s,block:!0}," ","\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7")))))}),W=(a(686),a(437)),q=(a(689),a(436)),J=function(){var e=[{value:254,label:"Guarded Sites",icon:"safety-certificate",color:"green"},{value:2,label:"Alarm Sites",icon:"warning",color:"red"},{value:4,label:"Paused Sites",icon:"bell",color:"yellow"},{value:44,label:"Unattended Sites",icon:"question-circle",color:""}].map(function(e,t){return l.a.createElement(C.a,{sm:12,xs:24,md:12,lg:6,xl:6,xxl:6,key:t,className:"p-3"},l.a.createElement(W.a,null,l.a.createElement(q.a,{title:e.label,value:e.value,prefix:l.a.createElement(g.a,{type:e.icon,theme:"twoTone",twoToneColor:e.color})})))});return l.a.createElement(j.a,null,e)},Q=a(131),Z=a(321),X=12e4,ee=6e3;function te(){return(te=Object(L.a)(A.a.mark(function e(t){var a,n,l;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){return(l=Object(L.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d.get("token")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,a.start();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0),setTimeout(function(){return n()},ee);case 11:case"end":return e.stop()}},e,null,[[2,7]])}))).apply(this,arguments)},n=function(){return l.apply(this,arguments)},(a=(new Z.a).withUrl(t,{accessTokenFactory:function(){return d.get("token")}}).configureLogging(Z.b.Debug).build()).serverTimeoutInMilliseconds=X,a.onclose(Object(L.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))),e.next=7,n();case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ae=function(e){return te.apply(this,arguments)},ne=a(428),le=a(214),re=a(269),oe=a(212),ie=a(161),se=a(27),ce=a(109),ue=a(322),me=a(113),pe=a(177),fe=a(266),de=a(263),be=a(210),ye=a.n(be),he={Alarm:"#f5222d",Ok:"#52c41a",NotFound:"#1890ff",Maintenance:"#faad14",Selected:"cyan"};var ge=function(e){var t=e.sites,a=e.onSelect,r=Object(n.useState)(null),o=Object(c.a)(r,2),i=o[0],s=o[1],u=Object(n.useState)(null),m=Object(c.a)(u,2),p=m[0],f=m[1];return Object(n.useEffect)(function(){i||setTimeout(function(){var e=new le.a({target:"map",controls:[],view:new re.a({center:Object(se.d)([27,38]),zoom:7})});Object(fe.a)(e,de);var t=new ie.a({source:new oe.a({features:[]})});if(e.addLayer(t),t.setZIndex(10),a){var n=new pe.a({layers:[t]});e.addInteraction(n),n.on("select",function(e){var t=n.getFeatures().getArray()[0],l=t&&t.getId();a(l)})}s(e),f(t)},100)},[i]),Object(n.useEffect)(function(){if(p&&t){var e=t.filter(function(e){return e.latitude>0}).map(function(e){return function(e){var t=new ne.a({geometry:new me.a(Object(se.d)([e.longitude,e.latitude])),label:e.name});return t.setId(e.id),t.set("status",e.status),t.setStyle(new ce.c({image:new ue.a({color:he[e.status],src:ye.a})})),t}(e)});p.setSource(null),p.setSource(new oe.a({features:e})),p.getSource().refresh({force:!0}),i.updateSize(),console.log("should have refreshed")}},[p,t,i]),l.a.createElement("div",{id:"map",style:{height:"100%"}})},xe=a(110),Ee=a.n(xe),we={Alarm:"#f5222d",Ok:"#52c41a",NotFound:"#1890ff",Maintenance:"#faad14",Selected:"cyan"};var ve=function(e){var t=e.alarm,a=e.isExpanded;return l.a.createElement("p",{style:{fontSize:12,fontWeight:"bolder"}},l.a.createElement("span",{style:{color:we[t.currentStatus]}},"[",(new Date).toLocaleTimeString("el-GR"),"]"),l.a.createElement("span",{style:{color:"white"}},t.name),l.a.createElement("span",{style:{color:we[t.previousStatus]}},t.previousStatus),l.a.createElement("span",{style:{color:"white"}},"\u2192"),l.a.createElement("span",{style:{color:we[t.currentStatus]}},t.currentStatus),a&&l.a.createElement("span",null,"(",t.message,")"))},ke=function(e){var t=e.alarms,a=Object(n.useRef)(null),r=Object(n.useState)(!1),o=Object(c.a)(r,2),i=o[0],s=o[1];return l.a.createElement("div",{className:Ee.a.AlarmsContainer,ref:a},l.a.createElement("div",{className:Ee.a.AlarmsContent},l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i?l.a.createElement("span",{className:"is-link",onClick:function(){a.current.style.height="200px",a.current.style.width="450px",s(!1)}},l.a.createElement(g.a,{type:"shrink",title:"\u0395\u03bb\u03b1\u03c7\u03b9\u03c3\u03c4\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7",style:{fontWeight:"bolder"}})):l.a.createElement("span",{className:"is-link",onClick:function(){a.current.style.height="calc(100% - 40px)",a.current.style.width="60vw",s(!0)}},l.a.createElement(g.a,{type:"arrows-alt",title:"\u039c\u03b5\u03b3\u03b9\u03c3\u03c4\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7",style:{fontWeight:"bolder"}}))),t.map(function(e,t){return l.a.createElement(ve,{key:t,alarm:e,isExpanded:i})})))},Se=(a(314),a(106)),je=function(e){console.log("selected ".concat(e))},_e=[{id:0,title:"\u039f\u039a"},{id:1,title:"Maintenance"},{id:2,title:"Alarm"},{id:3,title:"NotFound"}].map(function(e){return l.a.createElement(Se.a.Option,{key:e.id},e.title)}),Oe=function(e){var t=e.sites,a=e.onSelect;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Ee.a.DropdownInput},l.a.createElement(Se.a,{dropdownClassName:Ee.a.Dropdown,mode:"tags",style:{width:"100%"},placeholder:"\u0395\u03c0\u03b9\u03bb\u03ad\u03be\u03c4\u03b5 \u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae",onChange:je,allowClear:!0},_e)),l.a.createElement("div",{className:Ee.a.StatusContainer},t.map(function(e){return l.a.createElement("div",{key:e.id,className:Ee.a.SiteRow,onClick:function(){return function(e){a(e.id)}(e)}},l.a.createElement(g.a,{type:"Alarm"===e.status?"exclamation-circle":"info-circle",theme:"twoTone",twoToneColor:we[e.status]}),l.a.createElement("span",{className:"is-link"}," "+e.name))})))},Ne=function(e){var t=e.site,a=e.onMaintenanceStart,n=e.onMaintenanceStop;return"Maintenance"===t.status?l.a.createElement("span",{className:"is-link",onClick:n},l.a.createElement(g.a,{type:"stop",style:{marginRight:"5px"}}),"Stop Maintenance"):l.a.createElement("span",{className:"is-link",onClick:a},l.a.createElement(g.a,{type:"play-circle",style:{marginRight:"5px"}}),"Start Maintenance")},ze=function(e){var t=e.site,a=e.onClose,n=e.onMaintenanceStart,r=e.onMaintenanceStop;return l.a.createElement("div",{className:Ee.a.SiteView},l.a.createElement(P.a.Title,{level:4,className:Ee.a.SiteViewHeader},t.name,l.a.createElement("span",{className:"is-right is-link",onClick:a},l.a.createElement(g.a,{type:"close"}))),l.a.createElement(P.a.Paragraph,{className:Ee.a.SiteViewParagraph},l.a.createElement("span",{style:{fontSize:18}},l.a.createElement(g.a,{type:"environment",theme:"twoTone",twoToneColor:we[t.status]})," ","Status ",t.status),l.a.createElement("div",{style:{marginTop:10}},l.a.createElement(P.a.Text,null,"\u03a3\u03b5\u03bb\u03af\u03b4\u03b5\u03c2")),l.a.createElement("ul",null,t.pages.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("a",{target:"blank",href:e.uri},e.uri))})),l.a.createElement("div",null,l.a.createElement(Ne,{site:t,onMaintenanceStart:n,onMaintenanceStop:r}))))},Ce="".concat("/","/guard"),Ie=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)([]),s=Object(c.a)(i,2),u=s[0],m=s[1],p=Object(n.useState)(null),f=Object(c.a)(p,2),d=f[0],b=f[1],y=Object(n.useState)(null),h=Object(c.a)(y,2),g=h[0],x=h[1];function E(){K.get("/api/sites").then(function(e){return o(e)})}function w(){return(w=Object(L.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("starting maintenace for",g.name),e.next=3,K.get("/api/sites/".concat(d,"/maintenance/start"));case 3:console.log("maintenance started"),E();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(){return(v=Object(L.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("stopping maintenace for",g.name),e.next=3,K.get("/api/sites/".concat(d,"/maintenance/stop"));case 3:console.log("maintenance stopped"),E();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(n.useEffect)(function(){return E(),ae(Ce).then(function(t){e.current=t,e.current.on("SiteStatusChanged",function(e){console.info("".concat(e.name,": ").concat(e.previousStatus," -> ").concat(e.currentStatus)),m(function(t){return[e].concat(Object(Q.a)(t.slice(-100)))})}),e.current.on("SiteGuardingException",function(e){console.log("unhandled message:",e)})}).catch(function(t){console.error(t),e.current=null}),function(){e.current&&(e.current.stop(),e.current=null)}},[]),Object(n.useEffect)(function(){x(d?r.find(function(e){return e.id===d}):null)},[r,d]),l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(j.a,{style:{height:"100%"}},l.a.createElement(C.a,{xxl:20,xl:19,lg:18,md:16,style:{height:"100%"}},l.a.createElement(ge,{sites:r,onSelect:b})),l.a.createElement(C.a,{xxl:4,xl:5,lg:6,md:8,style:{height:"100%",display:"flex",flexDirection:"column"}},l.a.createElement(Oe,{sites:r,onSelect:b,style:{flexGrow:1}}),g&&l.a.createElement(ze,{site:g,onClose:function(){return b(null)},onMaintenanceStart:function(){return w.apply(this,arguments)},onMaintenanceStop:function(){return v.apply(this,arguments)}}))),l.a.createElement(ke,{alarms:u}))},Me=(a(410),a(267)),Pe=(a(401),a(149)),Re=(a(316),a(187)),Ae=(a(239),a(91)),Le=function(e){var t=new Date(e),a=new Date;return t.getTime()>a.getTime()?l.a.createElement(Ae.a,{color:"#40861d"},"\u0395\u03bd\u03b5\u03c1\u03b3\u03cc"):l.a.createElement(Ae.a,{color:"red"},"\u0391\u03bd\u03b5\u03bd\u03b5\u03c1\u03b3\u03cc")},Te=function(){var e=d.get("auth");return e?{userId:e.userid,email:e.email,name:e.title}:null},$e={0:l.a.createElement(Ae.a,{color:"#40861d"},"Normal"),1:l.a.createElement(Ae.a,{color:"#2db7f5"},"Low"),2:l.a.createElement(Ae.a,{color:"red"},"High"),3:l.a.createElement(Ae.a,{color:"volcano"},"Urgent")},De=a(23),Be=a.n(De),Ue={xs:{span:24},sm:{span:24},md:{span:24},lg:{span:24},xl:{span:20},xxl:{span:18}},Ve=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!0),u=Object(c.a)(s,2),m=u[0],p=u[1],f=window.innerWidth<=760,d=[{title:"\u03a4\u03af\u03c4\u03bb\u03bf\u03c2",dataIndex:"name",key:"name",sorter:!0,render:function(e,t){return l.a.createElement(i.b,{to:"/book/monitor/"+t.id},t.name)}},{title:"\u039b\u03ae\u03be\u03b7",dataIndex:"close",key:"close",sorter:!0,render:function(e){return Be()(e).format("L")}},{title:"\u03a3\u03c5\u03bd\u03c4\u03ac\u03ba\u03c4\u03b7\u03c2",dataIndex:"owner.name",key:"owner"},{title:"\u0393\u03b5\u03b3\u03bf\u03bd\u03cc\u03c4\u03b1",dataIndex:"entriesCount",key:"entriesCount"},{title:"\u039c\u03ad\u03bb\u03b7",dataIndex:"membersCount",key:"membersCount"},{title:"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7",dataIndex:"status",sorter:!0,key:"status",render:function(e,t){return Le(t.close)}},{title:"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2",key:"action",render:function(e,t){return l.a.createElement("span",null,l.a.createElement(i.b,{to:"/book/"+t.id},"\u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1"),l.a.createElement(z.a,{type:"vertical"}),l.a.createElement(i.b,{to:"/book/monitor/"+t.id},"\u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae"))}}];return Object(n.useEffect)(function(){K.get("/api/logbooks").then(function(e){o(e),p(!1)})},[]),l.a.createElement(j.a,{type:"flex",justify:"center",align:"top"},l.a.createElement(C.a,{span:24},l.a.createElement(Re.a,{subTitle:" \u03a3\u03cd\u03bd\u03c4\u03bf\u03bc\u03b7 \u03b1\u03bd\u03b1\u03c3\u03ba\u03cc\u03c0\u03b7\u03c3\u03b7 \u03c3\u03c5\u03bc\u03b2\u03ac\u03bd\u03c4\u03c9\u03bd \u03c4\u03b1\u03be\u03b9\u03bd\u03bf\u03bc\u03b7\u03bc\u03ad\u03bd\u03b1 \u03ba\u03b1\u03c4\u03b1 \u03b7\u03bc\u03b5\u03c1\u03bf\u03bc\u03b7\u03bd\u03af\u03b1",title:"\u03a3\u03c5\u03bc\u03b2\u03ac\u03bd\u03c4\u03b1",onBack:function(){return window.history.back()},extra:[l.a.createElement(_.a,{key:"0",type:"default",size:"small",className:"has-text-primary",onClick:null},"\u0391\u03bd\u03b1\u03bd\u03ad\u03c9\u03c3\u03b7"),l.a.createElement(_.a,{key:"1",type:"primary",size:"small",onClick:function(){return e.history.push("/book/new")}},"\u03a0\u03c1\u03bf\u03b8\u03ae\u03ba\u03b7 \u039d\u03ad\u03bf\u03c5")]})),l.a.createElement(C.a,Object.assign({},Ue,{style:{padding:10}}),f?l.a.createElement(Pe.a,{dataSource:r,renderItem:function(e){return l.a.createElement(Pe.a.Item,{key:e.id},l.a.createElement(Pe.a.Item.Meta,{title:e.name,description:l.a.createElement("div",null,l.a.createElement(P.a.Text,{type:"secondary"},"\u0397\u03bc/\u03bd\u03b9\u03b1 \u03bb\u03ae\u03be\u03b7\u03c2: ",Be()(e).format("L")),l.a.createElement("div",null,l.a.createElement(i.b,{to:"/book/"+e.id},"\u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1"),l.a.createElement(z.a,{type:"vertical"}),l.a.createElement(i.b,{to:"/book/monitor/"+e.id},"\u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae")))}),l.a.createElement("div",null,Le(e.close)))}}):l.a.createElement(Me.a,{loading:m,rowKey:function(e){return e.id},columns:d,dataSource:r,onChange:function(e,t,a){if(a&&a.field){var n=(a.order,r.reverse(function(e){return e[a.field]}));o(function(e){return Object(Q.a)(n)})}},pagination:{defaultPageSize:15,hideOnSinglePage:!0}})))},Fe=(a(760),a(435)),Ye=(a(411),a(211)),Ge=(a(412),a(265)),Ke=(a(765),{xs:{span:24},sm:{span:24},md:{span:24},lg:{span:18},xl:{span:12},xxl:{span:10}}),He={itemUnit:"\u03a7\u03c1\u03ae\u03c3\u03c4\u03b5\u03c2",itemsUnit:"\u03a7\u03c1\u03ae\u03c3\u03c4\u03b5\u03c2",searchPlaceholder:"\u0391\u03bd\u03b1\u03b6\u03ae\u03c4\u03b7\u03c3\u03b7"},We=Te(),qe=function(e){var t=e.match.params.id?e.match.params.id:null,a=t?"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 \u03a3\u03c5\u03bc\u03b2\u03ac\u03bd":"\u039d\u03ad\u03bf \u03a3\u03c5\u03bc\u03b2\u03ac\u03bd",r=Object(n.useState)([]),o=Object(c.a)(r,2),i=o[0],s=o[1],u=Object(n.useState)([]),m=Object(c.a)(u,2),p=m[0],f=m[1],d=Object(n.useState)({close:new Date,name:null}),b=Object(c.a)(d,2),y=b[0],h=b[1];Object(n.useEffect)(function(){console.log(t),t?K.get("/api/logbooks/".concat(t)).then(function(t){if(t){var a=new Date(t.close),n=t.members.map(function(e){return e.userId});f(Object(Q.a)(n)),h(Object($.a)({},t,{close:a}))}else e.history.push("/books")}):h({close:new Date,name:null}),K.get("/api/logbooks/members").then(function(e){return e?s(Object(Q.a)(e)):null})},[t]);var x=t?l.a.createElement(Ge.a,{key:"1",title:"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03b1 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5 \u03c4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf?",onConfirm:function(){K.delete("/api/logbooks/".concat(t)).then(function(t){e.history.push("/books"),D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"})})},onCancel:null,okText:"\u039d\u03b1\u03b9",cancelText:"\u038c\u03c7\u03b9"},l.a.createElement(_.a,{type:"danger",size:"small",className:"mr-2"},"\u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae")):null,E=t?l.a.createElement(_.a,{key:"0",size:"small",className:"has-text-primary mr-2",onClick:function(){e.history.push("/book/monitor/"+t)}}," ","\u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae"," "):null,w=function(){return{owner:We,close:y.date,members:i.filter(function(e){return p.some(function(t){return t===e.key})}),name:y.name}};return l.a.createElement(O.a,{onSubmit:function(a){a.preventDefault(),t?K.put("/api/logbooks/".concat(t),y).then(function(e){D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"})}):K.post("/api/logbooks",w()).then(function(t){t&&(e.history.push("/book/".concat(t.id)),D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"}))})}},l.a.createElement(j.a,{type:"flex",justify:"center"},l.a.createElement(C.a,{span:24},l.a.createElement(Re.a,{onBack:function(){return window.history.back()},title:a,subTitle:"\u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 \u03a3\u03c5\u03bc\u03b2\u03ac\u03bd \u03ba\u03b1\u03b9 \u03c0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03bc\u03b5\u03bb\u03ce\u03bd",extra:[E,x,l.a.createElement(_.a,{key:"3",type:"primary",size:"small",htmlType:"submit"},"\u0391\u03c0\u03bf\u03b8\u03ae\u03ba\u03b5\u03c5\u03c3\u03b7")]})),l.a.createElement(C.a,Object.assign({},Ke,{style:{padding:10},className:"has-background-dark mt-2"}),l.a.createElement(z.a,null,"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2"),l.a.createElement(O.a.Item,{label:"\u03a4\u03af\u03c4\u03bb\u03bf\u03c2"},l.a.createElement(N.a,{prefix:l.a.createElement(g.a,{type:"folder-open"}),name:"name",value:y.name,placeholder:"\u03a4\u03af\u03c4\u03bb\u03bf\u03c2 \u03a3\u03c5\u03bc\u03b2\u03ac\u03bd",onChange:function(e){h(Object($.a)({},y,{name:e.target.value}))}})),l.a.createElement(O.a.Item,{label:"\u0397\u03bc/\u03bd\u03b9\u03b1 \u039b\u03ae\u03be\u03b7\u03c2"},l.a.createElement(Ye.a,{value:Be()(y.close,"L"),placeholder:"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u0397\u03bc/\u03bd\u03b9\u03b1\u03c2",onChange:function(e){e._d&&h(Object($.a)({},y,{close:e._d}))},className:"is-fullwidth"})),l.a.createElement(z.a,null,"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u03bc\u03ad\u03bb\u03ce\u03bd \u03b3\u03b9\u03b1 \u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae/\u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1"),l.a.createElement(O.a.Item,{label:""},l.a.createElement(Fe.a,{locale:He,titles:["\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae","\u0395\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03bf\u03b9"],rowKey:function(e){return e.userId},dataSource:i,showSearch:!0,listStyle:{height:400},targetKeys:p,onChange:function(e){f(function(t){return Object(Q.a)(e)}),h(Object($.a)({},y,{members:i.filter(function(t){return e.some(function(e){return e===t.key})})}))},render:function(e){return"".concat(e.name)}})))))},Je=(a(394),a(191)),Qe=(a(772),a(434)),Ze=Se.a.Option,Xe={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},et=Te(),tt=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object($.a)({},e.data,{issuer:e.data.id?e.data.issuer:et}),s=Object(n.useState)(Object($.a)({},i)),u=Object(c.a)(s,2),m=u[0],p=u[1],f=1===m.status;Object(n.useEffect)(function(){K.get("/api/logbooks/members").then(function(e){return o(e)})},[]);var d=function(){return m.issuer.userId===et.userId||m.recipient.userId===et.userId},b=function(e,t){"recipient"===t&&(e=r.find(function(t){return t.userId===e})),p(Object($.a)({},m,Object(T.a)({},t,e)))},y=r.map(function(e){return l.a.createElement(Ze,{key:e.userId,value:e.userId},e.name)}),h=f?l.a.createElement(Ae.a,{color:"#40861d"},Be()(m.completionTime).format("LLL")):l.a.createElement(_.a,{disabled:!d(),type:"primary",onClick:function(){K.get("/api/logbooks/".concat(m.logBookId,"/entries/").concat(m.id,"/close")).then(function(t){D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"}),e.onClose(t,!0)})},block:!0},"\u039f\u03bb\u03bf\u03ba\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7");return l.a.createElement(Qe.a,{title:m&&m.id?"\u039d\u03ad\u03bf \u0393\u03b5\u03b3\u03bf\u03bd\u03cc\u03c2":"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1",visible:!0,onOk:function(){f?e.onClose(null,!0):m.id?K.put("/api/logbooks/".concat(m.logBookId,"/entries/").concat(m.id),m).then(function(t){D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"}),e.onClose(m,!0)}):K.post("/api/logbooks/".concat(m.logBookId,"/entries"),m).then(function(t){D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03ba\u03b1\u03c4\u03b1\u03c7\u03ce\u03c1\u03b7\u03c3\u03b7"}),e.onClose(m,!0)})},cancelButtonProps:{type:"danger"},onCancel:function(){return e.onClose(null)}},l.a.createElement(O.a,Xe,l.a.createElement(O.a.Item,{label:"\u03a4\u03af\u03c4\u03bb\u03bf\u03c2"},l.a.createElement(N.a,{disabled:f||!d(),value:m.title,onChange:function(e){return b(e.target.value,"title")}})),l.a.createElement(O.a.Item,{label:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae"},l.a.createElement(N.a,{disabled:f||!d(),value:m.description,onChange:function(e){return b(e.target.value,"description")}})),l.a.createElement(O.a.Item,{label:"\u03a0\u03b1\u03c1\u03b1\u03bb\u03ae\u03c0\u03c4\u03b7\u03c2"},l.a.createElement(Se.a,{showSearch:!0,disabled:f||!d(),defaultValue:m&&m.recipient?m.recipient.userId:null,placeholder:"\u0395\u03c0\u03b9\u03bb\u03bf\u03b3\u03ae \u03c0\u03b1\u03c1\u03b1\u03bb\u03ae\u03c0\u03c4\u03b7",optionFilterProp:"name",onSelect:function(e){return b(e,"recipient")},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},y)),l.a.createElement(O.a.Item,{label:"\u03a0\u03c1\u03bf\u03c4\u03b5\u03c1\u03b1\u03b9\u03cc\u03c4\u03b7\u03c4\u03b1"},l.a.createElement(Se.a,{defaultValue:m.priority,disabled:f||!d(),onChange:function(e){return b(e,"priority")}},l.a.createElement(Ze,{value:0},"Normal"),l.a.createElement(Ze,{value:1},"Low"),l.a.createElement(Ze,{value:2},"High"),l.a.createElement(Ze,{value:3},"Urgent"))),l.a.createElement(O.a.Item,{label:"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"},l.a.createElement(N.a.TextArea,{disabled:f||!d(),placeholder:"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2 \u03c0\u03b1\u03c1\u03b1\u03bb\u03ae\u03c0\u03c4\u03b7",value:m.actions,onChange:function(e){return b(e.target.value,"actions")},autosize:{minRows:2,maxRows:4}})),l.a.createElement(O.a.Item,{label:"DTG"},l.a.createElement(Ye.a,{disabled:f||!d(),defaultValue:m.dtg?Be()(m.dtg,"YYYY/MM/DD HH:mm"):null,className:"is-fullwidth",onChange:function(e){return b(e._d,"dtg")},placeholder:"DateTime given"})),l.a.createElement(O.a.Item,{label:"ECT"},l.a.createElement(Ye.a,{disabled:f||!d(),defaultValue:m.ect?Be()(m.ect,"YYYY/MM/DD HH:mm"):null,className:"is-fullwidth",onChange:function(e){return b(e._d,"ect")},placeholder:"DateTime of completion"})),m.id?l.a.createElement(O.a.Item,{label:"\u039f\u03bb\u03bf\u03ba\u03bb\u03ae\u03c1\u03c9\u03c3\u03b7"},h):null))},at=(a(223),a(115)),nt=Te(),lt=function(e){var t=function(e){return e.issuer.userId===nt.userId||e.recipient.userId===nt.userId},a=[{title:l.a.createElement(at.a,{title:"\u03a0\u03c1\u03bf\u03c4\u03b5\u03c1\u03b1\u03b9\u03cc\u03c4\u03b7\u03c4\u03b1"},"\u03a0"),dataIndex:"priority",key:"priority",render:function(e){return $e[e]}},{title:"DTG",dataIndex:"dtg",key:"dtg",render:function(e){return Be()(e).format("L")}},{title:"\u0395\u03ba\u03b4\u03cc\u03c4\u03b7\u03c2",dataIndex:"issuer",key:"issuer",render:function(e){return e.name}},{title:"\u03a0\u03b1\u03c1\u03b1\u03bb\u03ae\u03c0\u03c4\u03b7\u03c2",dataIndex:"recipient",key:"recipient",render:function(e){return e.name}},{title:"\u03a4\u03af\u03c4\u03bb\u03bf\u03c2",dataIndex:"title",key:"title"},{title:"\u03a0\u03b5\u03c1\u03b9\u03b3\u03c1\u03b1\u03c6\u03ae",dataIndex:"description",key:"description"},{title:"\u039a\u03b1\u03c4\u03ac\u03c3\u03c4\u03b1\u03c3\u03b7",dataIndex:"status",key:"status",render:function(e){return 1===e?l.a.createElement(Ae.a,{color:"magenta"},"Close"):l.a.createElement(Ae.a,{color:"#40861d"},"Open")}},{title:"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2",key:"action",render:function(a,n){return l.a.createElement("span",null,l.a.createElement("span",{className:"is-link",onClick:function(){return e.edit(n)}},t(n)?"\u03b5\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1":"\u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae"),t(n)?l.a.createElement("span",null,l.a.createElement(z.a,{type:"vertical"}),l.a.createElement(Ge.a,{title:"\u0398\u03ad\u03bb\u03b5\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03b1 \u03bd\u03b1 \u03b1\u03c6\u03b1\u03b9\u03c1\u03ad\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03b3\u03b5\u03b3\u03bf\u03bd\u03cc\u03c2?",onConfirm:function(){return e.onDelete(n)},onCancel:null,okText:"\u039d\u03b1\u03b9",cancelText:"\u038c\u03c7\u03b9"},l.a.createElement("span",{className:"is-danger"},"\u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"))):null)}}];return l.a.createElement(Me.a,{style:{padding:10},rowKey:"id",columns:a,dataSource:e.data})},rt=(a(774),a(323)),ot=Te(),it=function(){var e=Object(n.useState)([{name:"\u03a4\u03b1\u03c3\u03bf\u03c2",date:"2019-04-29",message:"\u039a\u03b1\u03bb\u03b7\u03bc\u03b5\u03c1\u03b1"}]),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useRef)(),i=Object(n.useRef)();Object(n.useEffect)(function(){o.current.scrollIntoView({behavior:"smooth"})},[a]);var s=l.a.createElement("div",{className:"has-text-centered mt-2"},l.a.createElement(g.a,{type:"wechat",style:{fontSize:30}}),l.a.createElement("p",null,"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd \u03bc\u03b7\u03bd\u03cd\u03bc\u03b1\u03c4\u03b1")),u=a.length>0?"chat-flexend":"",m=a.map(function(e,t){var a=ot.name===e.name,n=a?"right":"left";return l.a.createElement(rt.a,{mode:n,key:t,style:{padding:15,flexShrink:0}},l.a.createElement(rt.a.Item,{color:"#4cc7c3",dot:l.a.createElement(g.a,{type:"message",theme:"filled",style:{color:"#fff "}})},l.a.createElement("div",{className:"mb-2"},a?null:l.a.createElement("span",{className:"has-text-primary"},e.name," "),l.a.createElement(P.a.Text,{type:"secondary"},l.a.createElement(at.a,{title:Be()(e.date).format("YYYY-MM-DD HH:mm:ss")},l.a.createElement("span",null,Be()(e.date).fromNow()))),a?l.a.createElement("span",{className:"has-text-primary"}," ",e.name," "):null),l.a.createElement("span",{className:"chat-message"},e.message)))}),p=0===a.length?s:m;return l.a.createElement("div",{className:"chat-sidedrawer "+u},l.a.createElement("div",{className:"chat-header"},l.a.createElement("span",{className:"chat-header-title"},"Chat"),l.a.createElement("span",{className:"is-link is-right",onClick:function(){r([])}},"\u03ba\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2")),l.a.createElement("div",{className:"chat-messages"},p,l.a.createElement("div",{ref:o})),l.a.createElement(N.a.Search,{className:"chat-input",placeholder:"\u03a4\u03bf \u03bc\u03b7\u03bd\u03c5\u03bc\u03ac \u03c3\u03b1\u03c2",enterButton:l.a.createElement(g.a,{type:"caret-right"}),size:"large",ref:i,onSearch:function(){var e={name:ot.name,date:new Date,message:i.current.input.state.value};i.current.input.state.value="",r([].concat(Object(Q.a)(a),[e]))}}))},st=(a(776),a(433),function(e){return l.a.createElement(Pe.a,{style:{padding:10},itemLayout:"horizontal",dataSource:e.members,renderItem:function(e){return l.a.createElement(Pe.a.Item,null,l.a.createElement(Pe.a.Item.Meta,{avatar:l.a.createElement(g.a,{type:"user",style:{fontSize:40}}),title:l.a.createElement("span",{className:"has-text-primary"},e.name),description:e.email}))}})}),ct=Je.a.TabPane,ut=function(e){var t=e.match.params.id?e.match.params.id:null,a=Object(n.useState)({members:[],entries:[]}),r=Object(c.a)(a,2),o=r[0],i=r[1],s=Object(n.useState)(null),u=Object(c.a)(s,2),m=u[0],p=u[1],f=Object(n.useState)("1"),d=Object(c.a)(f,2),b=d[0],y=d[1];Object(n.useEffect)(function(){t&&K.get("/api/logbooks/".concat(t)).then(function(t){t?i(t):e.history.push("/books")})},[t]);var h=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e){if(e.id){var t=o.entries.findIndex(function(t){return t.id===e.id});o.entries[t]=e}else o.entries.push(e);i(o),e=null}p(e)},g=m?l.a.createElement(tt,{data:m,onClose:function(e,t){return h(e,t)}}):null,x=Be()(o.lastUpdate).fromNow();return l.a.createElement(j.a,{className:"is-fullheight"},l.a.createElement(C.a,{sm:24},l.a.createElement(Re.a,{onBack:function(){return window.history.back()},title:o.name,subTitle:x+" \u03b5\u03bd\u03b7\u03bc\u03b5\u03c1\u03ce\u03b8\u03b7\u03ba\u03b5",tags:Le(o.close),extra:[l.a.createElement(_.a,{key:"1",className:"has-text-primary",size:"small",onClick:function(){return h({logBookId:t})}}," ","\u039d\u03b5\u03bf \u0393\u03b5\u03b3\u03bf\u03bd\u03cc\u03c2"," "),l.a.createElement(_.a,{key:"2",type:"primary",size:"small",onClick:function(){return e.history.push("/book/"+o.id)}}," ","E\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1"," ")],footer:l.a.createElement(Je.a,{defaultActiveKey:b,onChange:function(e){y(e)}},l.a.createElement(ct,{tab:"\u0393\u03b5\u03b3\u03bf\u03bd\u03cc\u03c4\u03b1",key:"1"}),l.a.createElement(ct,{tab:"\u039c\u03ad\u03bb\u03b7",key:"2"}))})),l.a.createElement(C.a,{sm:24,md:24,lg:18,xl:19},"1"===b?l.a.createElement(lt,{data:o.entries,edit:function(e){return h(e)},onDelete:function(e){return function(e){K.delete("/api/logbooks/".concat(t,"/entries/").concat(e.id)).then(function(t){var a=o.entries.findIndex(function(t){return t.id===e.id});o.entries.splice(a,1),i(Object($.a)({},o)),D.a.success({message:"\u0395\u03c0\u03b9\u03c4\u03c5\u03c7\u03ae\u03c2 \u03b4\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"})})}(e)}}):l.a.createElement(st,{members:o.members})),l.a.createElement(C.a,{sm:24,md:24,lg:6,xl:5,className:"chat-container"},l.a.createElement(it,null)),g)},mt=function(){return l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/dashboard",exact:!0,component:J}),l.a.createElement(s.b,{path:"/map",exact:!0,component:Ie}),l.a.createElement(s.b,{path:"/books",exact:!0,component:Ve}),l.a.createElement(s.b,{path:"/book/monitor/:id",exact:!0,component:ut}),l.a.createElement(s.b,{path:"/book/new",exact:!0,component:qe}),l.a.createElement(s.b,{path:"/book/:id",exact:!0,component:qe}),l.a.createElement(s.a,{to:"/dashboard"}))},pt=function(){return l.a.createElement(s.d,null,l.a.createElement(s.b,{path:"/login",exact:!0,component:H}),l.a.createElement(s.a,{to:"/login"}))},ft=(a(778),function(){return Object(n.useContext)(b).isAuthenticated?l.a.createElement(mt,null):l.a.createElement(pt,null)}),dt=Object(s.f)(function(){return l.a.createElement(S,{className:"is-fullheight"},l.a.createElement(n.Suspense,{fallback:l.a.createElement("p",null,"Loading...")},l.a.createElement(ft,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bt=l.a.createElement(i.a,null,l.a.createElement(y,null,l.a.createElement(dt,null)));o.a.render(bt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[452,1,2]]]);
//# sourceMappingURL=main.c1a76c74.chunk.js.map