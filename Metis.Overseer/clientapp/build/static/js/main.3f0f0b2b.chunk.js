(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{183:function(e,t,n){},198:function(e,t,n){},209:function(e,t,n){e.exports=n(380)},217:function(e,t){},219:function(e,t){},256:function(e,t){},257:function(e,t){},31:function(e,t,n){"use strict";var a={prefix:Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://scag.ga",REACT_APP_VERSION:"0.5.0"}).REACT_APP_STORAGE_PREFIX||"",get:function(e){var t=localStorage.getItem(a.prefix+e);return JSON.parse(t)},set:function(e,t){return localStorage.setItem(a.prefix+e,JSON.stringify(t))},remove:function(e){localStorage.removeItem(a.prefix+e)}};t.a=a},36:function(e,t,n){"use strict";n.d(t,"b",function(){return m});var a=n(48),l=n(0),c=n.n(l),o=n(123),r=n.n(o),i=n(31),u=c.a.createContext(null),m=function(){return Object(l.useContext)(u)};t.a=function(e){var t=i.a.get("token"),n=i.a.get("auth"),o=function(){return!n&&t&&(n=r.a.decode(t),i.a.set("auth",n)),n},m=Object(l.useState)((n=o())&&n.username&&!function(){var e=o();return e&&1e3*e.exp<(new Date).valueOf()}()),s=Object(a.a)(m,2),b=s[0],E=s[1];return c.a.createElement(u.Provider,{value:{isAuthenticated:b,signIn:function(e){var t=r.a.decode(e);i.a.set("token",e),i.a.set("auth",t),E(!0)},signOut:function(){i.a.remove("token"),i.a.remove("auth"),E(!1)}}},e.children)}},380:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(8),o=n.n(c),r=n(18),i=n(48),u=n(46),m=n(77),s=n(36),b=Object(a.createContext)(null),E=function(e){var t=e.children,n=Object(s.b)(),c=Object(a.useState)({view:window.innerWidth>800?"web":"mobile",auth:n.isAuthenticated}),o=Object(i.a)(c,2),r=o[0],u=o[1];return Object(a.useEffect)(function(){var e=function(){window.innerWidth<=800&&"mobile"!==r.view&&u(function(e){return Object(m.a)({},e,{view:"mobile"})}),window.innerWidth>800&&"web"!==r.view&&u(function(e){return Object(m.a)({},e,{view:"web"})})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[r]),Object(a.useEffect)(function(){u(function(e){return Object(m.a)({},e,{auth:n.isAuthenticated})})},[n.isAuthenticated]),l.a.createElement(b.Provider,{value:r},t)},d=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(7)]).then(n.bind(null,626))}),f=function(){return l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/login",component:d}),l.a.createElement(u.a,{to:"/login"}))))},p=(n(111),n(38)),h=(n(207),n(69)),v=(n(126),n(13)),g=(n(133),n(89)),O=n(90),w=n.n(O),y=(n(183),[{path:"/map",icon:"global",caption:"\u03a7\u03ac\u03c1\u03c4\u03b7\u03c2"},{path:"/logbooks",icon:"notification",caption:"\u03a3\u03c5\u03bc\u03b2\u03ac\u03bd\u03c4\u03b1"}]),j=function(){var e=Object(s.b)();return l.a.createElement(p.a.Sider,{collapsed:!0},l.a.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"20px 0px 60px 0px"}},l.a.createElement(g.a,{size:48,src:w.a,alt:"metis"}),l.a.createElement("span",{className:"sidebar-version"},"0.5.0")),l.a.createElement(h.b,{selectable:!1,mode:"vertical",className:"sidebar-menu"},y.map(function(e){return l.a.createElement(h.b.Item,{key:e.path,className:"sidebar-menu-item"},l.a.createElement(r.b,{to:e.path},l.a.createElement(v.a,{type:e.icon}),l.a.createElement("span",null,e.caption)))})),l.a.createElement("div",{style:{flexGrow:"1"}}),l.a.createElement(h.b,{selectable:!1,mode:"vertical",style:{backgroundColor:"unset"},className:"sidebar-menu"},l.a.createElement(h.b.Item,{key:"/logout",onClick:e.signOut,style:{justifySelf:"flex-end"},className:"sidebar-logout"},l.a.createElement("span",null,l.a.createElement(v.a,{type:"logout"}),l.a.createElement("span",null,"\u0391\u03c0\u03bf\u03c3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7"))))))},x=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(8),n.e(13)]).then(n.bind(null,631))}),k=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(6)]).then(n.bind(null,632))}),P=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(12)]).then(n.bind(null,629))}),N=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(5)]).then(n.bind(null,630))}),S=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(15)]).then(n.bind(null,634))}),z=function(){return l.a.createElement("div",{style:{height:"100vh",overflow:"hidden"}},l.a.createElement(p.a,null,l.a.createElement(j,null),l.a.createElement(p.a.Content,{style:{height:"100vh"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/map",component:x}),l.a.createElement(u.b,{exact:!0,path:"/logbooks",component:k}),l.a.createElement(u.b,{exact:!0,path:"/logbooks/new",component:P}),l.a.createElement(u.b,{exact:!0,path:"/logbooks/:id",component:N}),l.a.createElement(u.b,{exact:!0,path:"/logbooks/:id/edit",component:S}),l.a.createElement(u.a,{to:"/map"}))))))},C=function(){var e=Object(s.b)();return l.a.createElement("div",{className:"bottom-menu-container"},l.a.createElement(r.b,{className:"mobile-menu-item",to:"/map"},l.a.createElement(v.a,{type:"global"})),l.a.createElement(r.b,{className:"mobile-menu-item",to:"/logbooks"},l.a.createElement(v.a,{type:"notification"})),l.a.createElement(r.b,{className:"mobile-menu-item",to:"/map"},l.a.createElement(g.a,{size:48,src:w.a,alt:"metis"})),l.a.createElement(r.b,{className:"mobile-menu-item",to:"/logbooks"},l.a.createElement(v.a,{type:"plus"})),l.a.createElement("div",{className:"mobile-menu-item is-link",onClick:e.signOut},l.a.createElement(v.a,{type:"logout"})))},A=(n(198),Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(8),n.e(14)]).then(n.bind(null,628))})),I=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(6)]).then(n.bind(null,632))}),_=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(2),n.e(5)]).then(n.bind(null,630))}),L=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:"mobile-layout",style:{overflow:"hidden"}},l.a.createElement(p.a.Content,null,l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/map",component:A}),l.a.createElement(u.b,{exact:!0,path:"/logbooks",component:I}),l.a.createElement(u.b,{exact:!0,path:"/logbooks/:id",component:_}),l.a.createElement(u.a,{to:"/map"}))))),l.a.createElement(C,null))},R=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(4),n.e(7)]).then(n.bind(null,626))}),W=function(){return l.a.createElement("div",{style:{height:"100%"}},l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",null,"Loading...")},l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/login",component:R}),l.a.createElement(u.a,{to:"/login"}))))},D=Object(u.f)(function(){var e=Object(a.useContext)(b),t=Object(a.useState)(l.a.createElement("div",null)),n=Object(i.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)(function(){o(l.a.createElement(function(){return"web"===e.view?e.auth?l.a.createElement(z,null):l.a.createElement(f,null):e.auth?l.a.createElement(L,null):l.a.createElement(W,null)},null))},[e]),c});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=l.a.createElement(r.a,null,l.a.createElement(s.a,null,l.a.createElement(E,null,l.a.createElement(D,null))));o.a.render(J,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,n){e.exports=n.p+"static/media/logo.767649f2.png"}},[[209,10,11]]]);
//# sourceMappingURL=main.3f0f0b2b.chunk.js.map