{"version":3,"sources":["services/storage.js","contexts/AuthProvider.js","contexts/LayoutProvider.js","components/layouts/WebUnauthorized.js","components/layouts/WebSidebar.js","components/layouts/WebAuthorized.js","components/layouts/MobileMenu.js","components/layouts/MobileAuthorized.js","components/layouts/MobileUnauthorized.js","App.js","serviceWorker.js","index.js","assets/logo.png"],"names":["storage","prefix","process","REACT_APP_STORAGE_PREFIX","get","key","value","localStorage","getItem","JSON","parse","set","setItem","stringify","remove","removeItem","AuthContext","React","createContext","useAuth","useContext","AuthProvider","props","token","session","getSession","jwt","decode","_useState","useState","username","exp","Date","valueOf","isExpired","_useState2","Object","D_github_metis_Metis_Web_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","isAuthenticated","setIsAuthenticated","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","Provider","signIn","signOut","children","LayoutContext","LayoutProvider","_ref","auth","view","window","innerWidth","slicedToArray","layout","setLayout","useEffect","handleResize","prevLayout","objectSpread","addEventListener","removeEventListener","react_default","Login","lazy","Promise","all","__webpack_require__","e","then","bind","WebUnauthorized","style","height","react","fallback","react_router","exact","path","component","to","items","icon","caption","Sidebar","es_layout","Sider","collapsed","display","flexDirection","alignItems","margin","avatar","size","src","logo","alt","className","menu","selectable","mode","map","item","Item","react_router_dom","type","flexGrow","backgroundColor","onClick","justifySelf","Map","LogBooks","LogBookCreate","LogBook","LogBookEdit","WebAuthorized","overflow","WebSidebar","Content","MobileMenu","MobileAuthorized","Fragment","layouts_MobileMenu","MobileUnauthorized","withRouter","Layout","layouts_WebAuthorized","layouts_WebUnauthorized","layouts_MobileAuthorized","layouts_MobileUnauthorized","Boolean","location","hostname","match","Root","contexts_LayoutProvider","src_App","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","p"],"mappings":"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","file":"static/js/main.3f0f0b2b.chunk.js","sourcesContent":["const storage = {\r\n  prefix: process.env.REACT_APP_STORAGE_PREFIX || '',\r\n  get: key => {\r\n    const value = localStorage.getItem(storage.prefix + key)\r\n    return JSON.parse(value)\r\n  },\r\n  set: (key, value) => {\r\n    return localStorage.setItem(storage.prefix + key, JSON.stringify(value))\r\n  },\r\n  remove: key => {\r\n    localStorage.removeItem(storage.prefix + key)\r\n  }\r\n}\r\n\r\nexport default storage\r\n","import React, { useState, useContext } from 'react'\r\nimport jwt from 'jsonwebtoken'\r\nimport storage from '../services/storage'\r\n\r\nconst tokenSuffix = 'token'\r\nconst sessionSuffix = 'auth'\r\n\r\nconst AuthContext = React.createContext(null)\r\n\r\nconst AuthProvider = props => {\r\n  const token = storage.get(tokenSuffix)\r\n  let session = storage.get(sessionSuffix)\r\n  const getSession = () => {\r\n    if (!session && token) {\r\n      session = jwt.decode(token)\r\n      storage.set(sessionSuffix, session)\r\n    }\r\n    return session\r\n  }\r\n  const isExpired = () => {\r\n    const session = getSession()\r\n    const expired = session && session.exp * 1000 < new Date().valueOf()\r\n    return expired\r\n  }\r\n  const initAuthentication = () => {\r\n    session = getSession()\r\n    const check = session && session.username && !isExpired()\r\n    return check\r\n  }\r\n  const signIn = token => {\r\n    const session = jwt.decode(token)\r\n    storage.set(tokenSuffix, token)\r\n    storage.set(sessionSuffix, session)\r\n    setIsAuthenticated(true)\r\n  }\r\n  const signOut = () => {\r\n    storage.remove(tokenSuffix)\r\n    storage.remove(sessionSuffix)\r\n    setIsAuthenticated(false)\r\n  }\r\n  const [isAuthenticated, setIsAuthenticated] = useState(initAuthentication())\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isAuthenticated, signIn, signOut }}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n\r\nexport default AuthProvider\r\n","import React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport { useAuth } from './AuthProvider'\r\n\r\nconst BREAKPOINT = 800\r\n\r\nconst LayoutContext = createContext(null)\r\n\r\nconst LayoutProvider = ({ children }) => {\r\n  const auth = useAuth()\r\n  const [layout, setLayout] = useState({\r\n    view: window.innerWidth > BREAKPOINT ? 'web' : 'mobile',\r\n    auth: auth.isAuthenticated\r\n  })\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth <= BREAKPOINT && layout.view !== 'mobile') {\r\n        setLayout(prevLayout => ({ ...prevLayout, view: 'mobile' }))\r\n      }\r\n      if (window.innerWidth > BREAKPOINT && layout.view !== 'web') {\r\n        setLayout(prevLayout => ({ ...prevLayout, view: 'web' }))\r\n      }\r\n    }\r\n    window.addEventListener('resize', handleResize)\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize)\r\n    }\r\n  }, [layout])\r\n\r\n  useEffect(() => {\r\n    setLayout(prevLayout => ({ ...prevLayout, auth: auth.isAuthenticated }))\r\n  }, [auth.isAuthenticated])\r\n\r\n  return (\r\n    <LayoutContext.Provider value={layout}>{children}</LayoutContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useLayout = () => useContext(LayoutContext)\r\n\r\nexport default LayoutProvider\r\n","import React, { lazy, Suspense } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\n\r\nconst Login = lazy(() => import('../login/Login'))\r\n\r\nconst WebUnauthorized = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '100%'\r\n      }}>\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Switch>\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Redirect to=\"/login\" />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WebUnauthorized\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport {\r\n  Layout as AntdLayout,\r\n  Menu as AntdMenu,\r\n  Icon as AntdIcon,\r\n  Avatar as AntdAvatar\r\n} from 'antd'\r\nimport { useAuth } from '../../contexts/AuthProvider'\r\nimport logo from '../../assets/logo.png'\r\nimport './sidebar.less'\r\n\r\nconst VERSION = process.env.REACT_APP_VERSION\r\n\r\nconst items = [\r\n  {\r\n    path: '/map',\r\n    icon: 'global',\r\n    caption: 'Χάρτης'\r\n  },\r\n  {\r\n    path: '/logbooks',\r\n    icon: 'notification',\r\n    caption: 'Συμβάντα'\r\n  }\r\n]\r\n\r\nconst Sidebar = () => {\r\n  const auth = useAuth()\r\n  return (\r\n    <AntdLayout.Sider collapsed={true}>\r\n      <div style={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            margin: '20px 0px 60px 0px'\r\n          }}>\r\n          <AntdAvatar size={48} src={logo} alt=\"metis\" />\r\n          <span className=\"sidebar-version\">{VERSION}</span>\r\n        </div>\r\n\r\n        <AntdMenu selectable={false} mode=\"vertical\" className=\"sidebar-menu\">\r\n          {items.map(item => (\r\n            <AntdMenu.Item key={item.path} className=\"sidebar-menu-item\">\r\n              <NavLink to={item.path}>\r\n                <AntdIcon type={item.icon} />\r\n                <span>{item.caption}</span>\r\n              </NavLink>\r\n            </AntdMenu.Item>\r\n          ))}\r\n        </AntdMenu>\r\n        <div style={{ flexGrow: '1' }} />\r\n        <AntdMenu\r\n          selectable={false}\r\n          mode=\"vertical\"\r\n          style={{ backgroundColor: 'unset' }}\r\n          className=\"sidebar-menu\">\r\n          <AntdMenu.Item\r\n            key=\"/logout\"\r\n            onClick={auth.signOut}\r\n            style={{ justifySelf: 'flex-end' }}\r\n            className=\"sidebar-logout\">\r\n            <span>\r\n              <AntdIcon type=\"logout\" />\r\n              <span>Αποσύνδεση</span>\r\n            </span>\r\n          </AntdMenu.Item>\r\n        </AntdMenu>\r\n      </div>\r\n    </AntdLayout.Sider>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { lazy, Suspense } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { Layout as AntdLayout } from 'antd'\r\nimport WebSidebar from './WebSidebar'\r\n\r\nconst Map = lazy(() => import('../map/WebMapLayout'))\r\nconst LogBooks = lazy(() => import('../logBooks/LogBooks'))\r\nconst LogBookCreate = lazy(() => import('../logBookCreate/LogBookCreate'))\r\nconst LogBook = lazy(() => import('../logBook/LogBook'))\r\nconst LogBookEdit = lazy(() => import('../logBookEdit/LogBookEdit'))\r\n\r\nconst WebAuthorized = () => {\r\n  return (\r\n    <div style={{ height: '100vh', overflow: 'hidden' }}>\r\n      <AntdLayout>\r\n        <WebSidebar />\r\n        <AntdLayout.Content style={{ height: '100vh' }}>\r\n          <Suspense fallback={<div>Loading...</div>}>\r\n            <Switch>\r\n              <Route exact path=\"/map\" component={Map} />\r\n              <Route exact path=\"/logbooks\" component={LogBooks} />\r\n              <Route exact path=\"/logbooks/new\" component={LogBookCreate} />\r\n              <Route exact path=\"/logbooks/:id\" component={LogBook} />\r\n              <Route exact path=\"/logbooks/:id/edit\" component={LogBookEdit} />\r\n              <Redirect to=\"/map\" />\r\n            </Switch>\r\n          </Suspense>\r\n        </AntdLayout.Content>\r\n      </AntdLayout>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WebAuthorized\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\nimport { Icon as AntdIcon, Avatar as AntdAvatar } from 'antd'\r\nimport { useAuth } from '../../contexts/AuthProvider'\r\nimport logo from '../../assets/logo.png'\r\nimport './sidebar.less'\r\n\r\nconst MobileMenu = () => {\r\n    const auth = useAuth()\r\n    return (\r\n        <div className=\"bottom-menu-container\">\r\n            <NavLink className=\"mobile-menu-item\" to='/map'>\r\n                <AntdIcon type='global' />\r\n            </NavLink>\r\n            <NavLink className=\"mobile-menu-item\" to='/logbooks' >\r\n                <AntdIcon type='notification' />\r\n            </NavLink>\r\n            <NavLink className=\"mobile-menu-item\" to='/map'>\r\n                <AntdAvatar size={48} src={logo} alt=\"metis\" />\r\n            </NavLink>\r\n            <NavLink className=\"mobile-menu-item\" to='/logbooks'>\r\n                <AntdIcon type='plus' />\r\n            </NavLink>\r\n            <div className=\"mobile-menu-item is-link\" onClick={auth.signOut}>\r\n                <AntdIcon type='logout' />\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileMenu;","import React, { lazy, Suspense } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\nimport { Layout as AntdLayout } from 'antd'\r\nimport MobileMenu from './MobileMenu';\r\nimport '../../styles/index.less'\r\nconst Map = lazy(() => import('../map/MobileMapLayout'))\r\nconst LogBooks = lazy(() => import('../logBooks/LogBooks'))\r\nconst LogBook = lazy(() => import('../logBook/LogBook'))\r\n\r\nconst MobileAuthorized = () => {\r\n  return (<React.Fragment>\r\n    <AntdLayout className=\"mobile-layout\" style={{ overflow: 'hidden' }}>\r\n      <AntdLayout.Content>\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n          <Switch>\r\n            <Route exact path=\"/map\" component={Map} />\r\n            <Route exact path=\"/logbooks\" component={LogBooks} />\r\n            <Route exact path=\"/logbooks/:id\" component={LogBook} />\r\n            <Redirect to=\"/map\" />\r\n          </Switch>\r\n        </Suspense>\r\n      </AntdLayout.Content>\r\n    </AntdLayout>\r\n    <MobileMenu />\r\n  </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default MobileAuthorized\r\n","import React, { lazy, Suspense } from 'react'\r\nimport { Route, Switch, Redirect } from 'react-router-dom'\r\n\r\nconst Login = lazy(() => import('../login/Login'))\r\n\r\nconst MobileUnauthorized = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: '100%'\r\n      }}>\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Switch>\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Redirect to=\"/login\" />\r\n        </Switch>\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MobileUnauthorized\r\n","import React, { useState, useEffect } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { useLayout } from './contexts/LayoutProvider'\r\nimport WebUnauthorized from './components/layouts/WebUnauthorized'\r\nimport WebAuthorized from './components/layouts/WebAuthorized'\r\nimport MobileAuthorized from './components/layouts/MobileAuthorized'\r\nimport MobileUnauthorized from './components/layouts/MobileUnauthorized'\r\n\r\nconst App = () => {\r\n  const layout = useLayout()\r\n\r\n  const [Layout, setLayout] = useState(<div />)\r\n\r\n  useEffect(() => {\r\n    const LayoutSelector = () => {\r\n      if (layout.view === 'web') {\r\n        return layout.auth ? <WebAuthorized /> : <WebUnauthorized />\r\n      }\r\n      return layout.auth ? <MobileAuthorized /> : <MobileUnauthorized />\r\n    }\r\n    setLayout(<LayoutSelector />)\r\n  }, [layout])\r\n\r\n  return Layout\r\n}\r\n\r\nexport default withRouter(App)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport App from './App'\r\nimport AuthProvider from './contexts/AuthProvider'\r\nimport LayoutProvider from './contexts/LayoutProvider'\r\nimport * as serviceWorker from './serviceWorker'\r\nimport './styles/index.less'\r\n\r\nconst Root = (\r\n  <BrowserRouter>\r\n    <AuthProvider>\r\n      <LayoutProvider>\r\n        <App />\r\n      </LayoutProvider>\r\n    </AuthProvider>\r\n  </BrowserRouter>\r\n)\r\n\r\nReactDOM.render(Root, document.getElementById('root'))\r\n\r\nserviceWorker.unregister()\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.767649f2.png\";"],"sourceRoot":""}